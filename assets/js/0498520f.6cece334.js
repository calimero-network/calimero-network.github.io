"use strict";(self.webpackChunkdocs=self.webpackChunkdocs||[]).push([[8587],{42875:(e,n,r)=>{r.r(n),r.d(n,{assets:()=>c,contentTitle:()=>s,default:()=>u,frontMatter:()=>a,metadata:()=>o,toc:()=>l});const o=JSON.parse('{"id":"developer-tools/merobox/network-configuration","title":"Network Configuration","description":"Advanced network configuration, Docker networks, and security for Merobox.","source":"@site/docs/05-developer-tools/merobox/network-configuration.mdx","sourceDirName":"05-developer-tools/merobox","slug":"/developer-tools/merobox/network-configuration","permalink":"/developer-tools/merobox/network-configuration","draft":false,"unlisted":false,"editUrl":"https://github.com/calimero-network/calimero-network.github.io/edit/master/docs/05-developer-tools/merobox/network-configuration.mdx","tags":[],"version":"current","lastUpdatedAt":1757931844000,"sidebarPosition":7.3,"frontMatter":{"title":"Network Configuration","description":"Advanced network configuration, Docker networks, and security for Merobox.","sidebar_position":7.3},"sidebar":"tutorialSidebar","previous":{"title":"Docker Image Management","permalink":"/developer-tools/merobox/docker-image-management"},"next":{"title":"Authentication Service Integration","permalink":"/developer-tools/merobox/auth-service-integration"}}');var i=r(86070),t=r(48854);const a={title:"Network Configuration",description:"Advanced network configuration, Docker networks, and security for Merobox.",sidebar_position:7.3},s="Network Configuration",c={},l=[{value:"Custom Docker Networks",id:"custom-docker-networks",level:2},{value:"Network Types",id:"network-types",level:3},{value:"Network Configuration Options",id:"network-configuration-options",level:3},{value:"Port Management",id:"port-management",level:2},{value:"Basic Port Configuration",id:"basic-port-configuration",level:3},{value:"Port Range Configuration",id:"port-range-configuration",level:3},{value:"Port Security",id:"port-security",level:3},{value:"Network Security",id:"network-security",level:2},{value:"Network Isolation",id:"network-isolation",level:3},{value:"Firewall Configuration",id:"firewall-configuration",level:3},{value:"Network Policies",id:"network-policies",level:3},{value:"Load Balancing and Proxying",id:"load-balancing-and-proxying",level:2},{value:"Traefik Configuration",id:"traefik-configuration",level:3},{value:"Load Balancer Setup",id:"load-balancer-setup",level:3},{value:"Reverse Proxy",id:"reverse-proxy",level:3},{value:"Network Monitoring",id:"network-monitoring",level:2},{value:"Network Metrics",id:"network-metrics",level:3},{value:"Network Diagnostics",id:"network-diagnostics",level:3},{value:"DNS Configuration",id:"dns-configuration",level:2},{value:"Custom DNS",id:"custom-dns",level:3},{value:"Service Discovery",id:"service-discovery",level:3},{value:"Network Troubleshooting",id:"network-troubleshooting",level:2},{value:"Common Network Issues",id:"common-network-issues",level:3},{value:"Network Debugging",id:"network-debugging",level:3},{value:"Performance Optimization",id:"performance-optimization",level:2},{value:"Network Performance",id:"network-performance",level:3},{value:"Bandwidth Management",id:"bandwidth-management",level:3},{value:"Best Practices",id:"best-practices",level:2},{value:"Network Design",id:"network-design",level:3},{value:"Security Considerations",id:"security-considerations",level:3},{value:"Performance Optimization",id:"performance-optimization-1",level:3},{value:"Next Steps",id:"next-steps",level:2}];function d(e){const n={a:"a",code:"code",h1:"h1",h2:"h2",h3:"h3",header:"header",li:"li",ol:"ol",p:"p",pre:"pre",strong:"strong",ul:"ul",...(0,t.R)(),...e.components};return(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)(n.header,{children:(0,i.jsx)(n.h1,{id:"network-configuration",children:"Network Configuration"})}),"\n",(0,i.jsx)(n.p,{children:"This guide covers advanced network configuration for Merobox, including custom\nDocker networks, port management, and network security."}),"\n",(0,i.jsx)(n.h2,{id:"custom-docker-networks",children:"Custom Docker Networks"}),"\n",(0,i.jsx)(n.p,{children:"Create and use custom Docker networks for better isolation and control:"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-yaml",children:"# workflow.yml\nnetworks:\n  - name: calimero-custom\n    driver: bridge\n    options:\n      com.docker.network.bridge.name: calimero-br0\n      com.docker.network.driver.mtu: 1500\n\nnodes:\n  networks:\n    - calimero-custom\n    - default\n"})}),"\n",(0,i.jsx)(n.h3,{id:"network-types",children:"Network Types"}),"\n",(0,i.jsx)(n.p,{children:"Choose the appropriate network driver for your use case:"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-yaml",children:"# Bridge network (default)\nnetworks:\n  - name: calimero-bridge\n    driver: bridge\n    options:\n      com.docker.network.bridge.enable_icc: 'true'\n      com.docker.network.bridge.enable_ip_masquerade: 'true'\n\n# Host network (shares host networking)\nnetworks:\n  - name: calimero-host\n    driver: host\n\n# Overlay network (for multi-host)\nnetworks:\n  - name: calimero-overlay\n    driver: overlay\n    options:\n      encrypted: 'true'\n"})}),"\n",(0,i.jsx)(n.h3,{id:"network-configuration-options",children:"Network Configuration Options"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-yaml",children:"# Advanced network configuration\nnetworks:\n  - name: calimero-advanced\n    driver: bridge\n    ipam:\n      driver: default\n      config:\n        - subnet: 172.20.0.0/16\n          gateway: 172.20.0.1\n          ip_range: 172.20.1.0/24\n    options:\n      com.docker.network.bridge.name: calimero-br0\n      com.docker.network.driver.mtu: 1500\n      com.docker.network.bridge.enable_icc: 'true'\n      com.docker.network.bridge.enable_ip_masquerade: 'true'\n"})}),"\n",(0,i.jsx)(n.h2,{id:"port-management",children:"Port Management"}),"\n",(0,i.jsx)(n.p,{children:"Advanced port configuration and management:"}),"\n",(0,i.jsx)(n.h3,{id:"basic-port-configuration",children:"Basic Port Configuration"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-yaml",children:"nodes:\n  ports:\n    p2p: 2428\n    rpc: 2528\n    admin: 2628\n  port_mapping:\n    mode: host # host, bridge, none\n  expose_ports:\n    - 2428\n    - 2528\n"})}),"\n",(0,i.jsx)(n.h3,{id:"port-range-configuration",children:"Port Range Configuration"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-yaml",children:"# Dynamic port allocation\nnodes:\n  port_range:\n    start: 3000\n    end: 4000\n    step: 10\n  port_mapping:\n    mode: bridge\n    host_ports:\n      - 2428:2428\n      - 2528:2528\n"})}),"\n",(0,i.jsx)(n.h3,{id:"port-security",children:"Port Security"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-yaml",children:"# Restrict port access\nnodes:\n  ports:\n    p2p: 2428\n    rpc: 2528\n  port_security:\n    allowed_ips:\n      - 192.168.1.0/24\n      - 10.0.0.0/8\n    blocked_ports:\n      - 22\n      - 23\n"})}),"\n",(0,i.jsx)(n.h2,{id:"network-security",children:"Network Security"}),"\n",(0,i.jsx)(n.p,{children:"Configure network security and isolation:"}),"\n",(0,i.jsx)(n.h3,{id:"network-isolation",children:"Network Isolation"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-yaml",children:"networks:\n  - name: calimero-secure\n    driver: bridge\n    ipam:\n      config:\n        - subnet: 172.20.0.0/16\n    options:\n      com.docker.network.bridge.enable_icc: 'false'\n      com.docker.network.bridge.enable_ip_masquerade: 'true'\n"})}),"\n",(0,i.jsx)(n.h3,{id:"firewall-configuration",children:"Firewall Configuration"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-yaml",children:"# Custom firewall rules\nfirewall:\n  enabled: true\n  rules:\n    - action: allow\n      source: 192.168.1.0/24\n      destination: 2428\n      protocol: tcp\n    - action: deny\n      source: 0.0.0.0/0\n      destination: 22\n      protocol: tcp\n"})}),"\n",(0,i.jsx)(n.h3,{id:"network-policies",children:"Network Policies"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-yaml",children:"# Network access policies\nnetwork_policies:\n  - name: calimero-policy\n    rules:\n      - from:\n          - namespace: calimero\n        ports:\n          - protocol: tcp\n            port: 2428\n      - from:\n          - namespace: monitoring\n        ports:\n          - protocol: tcp\n            port: 2528\n"})}),"\n",(0,i.jsx)(n.h2,{id:"load-balancing-and-proxying",children:"Load Balancing and Proxying"}),"\n",(0,i.jsx)(n.h3,{id:"traefik-configuration",children:"Traefik Configuration"}),"\n",(0,i.jsx)(n.p,{children:"Custom Traefik proxy configuration:"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-yaml",children:"traefik:\n  image: traefik:v2.10\n  config:\n    entryPoints:\n      web:\n        address: ':80'\n      websecure:\n        address: ':443'\n    providers:\n      docker:\n        endpoint: 'unix:///var/run/docker.sock'\n        exposedByDefault: false\n    api:\n      dashboard: true\n      insecure: false\n"})}),"\n",(0,i.jsx)(n.h3,{id:"load-balancer-setup",children:"Load Balancer Setup"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-yaml",children:"# Load balancer configuration\nload_balancer:\n  enabled: true\n  image: nginx:alpine\n  config:\n    upstream:\n      - server: calimero-node-1:2428\n      - server: calimero-node-2:2428\n      - server: calimero-node-3:2428\n    health_check:\n      path: /health\n      interval: 30s\n      timeout: 5s\n"})}),"\n",(0,i.jsx)(n.h3,{id:"reverse-proxy",children:"Reverse Proxy"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-yaml",children:"# Reverse proxy configuration\nreverse_proxy:\n  enabled: true\n  image: nginx:alpine\n  config:\n    server:\n      listen: 80\n      location:\n        - path: /api\n          proxy_pass: http://calimero-node-1:2528\n        - path: /admin\n          proxy_pass: http://calimero-node-1:2628\n"})}),"\n",(0,i.jsx)(n.h2,{id:"network-monitoring",children:"Network Monitoring"}),"\n",(0,i.jsx)(n.h3,{id:"network-metrics",children:"Network Metrics"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-yaml",children:"# Network monitoring\nmonitoring:\n  network:\n    enabled: true\n    metrics:\n      - bandwidth\n      - latency\n      - packet_loss\n      - connection_count\n    alerts:\n      - metric: bandwidth\n        threshold: 80%\n        action: scale_up\n      - metric: latency\n        threshold: 100ms\n        action: alert\n"})}),"\n",(0,i.jsx)(n.h3,{id:"network-diagnostics",children:"Network Diagnostics"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-yaml",children:"# Network diagnostic tools\ndiagnostics:\n  enabled: true\n  tools:\n    - ping\n    - traceroute\n    - netstat\n    - ss\n  interval: 60s\n"})}),"\n",(0,i.jsx)(n.h2,{id:"dns-configuration",children:"DNS Configuration"}),"\n",(0,i.jsx)(n.h3,{id:"custom-dns",children:"Custom DNS"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-yaml",children:"# Custom DNS configuration\ndns:\n  servers:\n    - 8.8.8.8\n    - 8.8.4.4\n    - 1.1.1.1\n  search:\n    - calimero.local\n    - internal.local\n  options:\n    - ndots: 2\n    - timeout: 2\n"})}),"\n",(0,i.jsx)(n.h3,{id:"service-discovery",children:"Service Discovery"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-yaml",children:"# Service discovery\nservice_discovery:\n  enabled: true\n  provider: consul\n  config:\n    address: consul:8500\n    service_name: calimero\n    tags:\n      - calimero\n      - blockchain\n"})}),"\n",(0,i.jsx)(n.h2,{id:"network-troubleshooting",children:"Network Troubleshooting"}),"\n",(0,i.jsx)(n.h3,{id:"common-network-issues",children:"Common Network Issues"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-bash",children:'# Check network connectivity\ndocker network ls\ndocker network inspect calimero-web\n\n# Test connectivity between nodes\ndocker exec calimero-node-1 ping calimero-node-2\n\n# Check port binding\nnetstat -tulpn | grep -E "(2428|2528)"\n\n# Test DNS resolution\ndocker exec calimero-node-1 nslookup calimero-node-2\n'})}),"\n",(0,i.jsx)(n.h3,{id:"network-debugging",children:"Network Debugging"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-bash",children:"# Enable network debugging\nexport DOCKER_BUILDKIT=0\nexport DOCKER_CLI_EXPERIMENTAL=enabled\n\n# Check network configuration\ndocker network inspect calimero-web | jq '.[0].IPAM'\n\n# Test network performance\ndocker exec calimero-node-1 iperf3 -c calimero-node-2\n\n# Monitor network traffic\ndocker exec calimero-node-1 tcpdump -i eth0\n"})}),"\n",(0,i.jsx)(n.h2,{id:"performance-optimization",children:"Performance Optimization"}),"\n",(0,i.jsx)(n.h3,{id:"network-performance",children:"Network Performance"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-yaml",children:"# Network performance tuning\nnetwork_performance:\n  tcp_nodelay: true\n  tcp_keepalive: true\n  tcp_keepalive_time: 600\n  tcp_keepalive_interval: 60\n  tcp_keepalive_probes: 3\n"})}),"\n",(0,i.jsx)(n.h3,{id:"bandwidth-management",children:"Bandwidth Management"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-yaml",children:"# Bandwidth limits\nbandwidth:\n  enabled: true\n  limits:\n    - interface: eth0\n      rate: 100M\n      burst: 200M\n    - interface: eth1\n      rate: 50M\n      burst: 100M\n"})}),"\n",(0,i.jsx)(n.h2,{id:"best-practices",children:"Best Practices"}),"\n",(0,i.jsx)(n.h3,{id:"network-design",children:"Network Design"}),"\n",(0,i.jsxs)(n.ol,{children:["\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.strong,{children:"Segmentation"}),": Use separate networks for different purposes"]}),"\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.strong,{children:"Isolation"}),": Isolate sensitive services from public networks"]}),"\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.strong,{children:"Redundancy"}),": Implement redundant network paths"]}),"\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.strong,{children:"Monitoring"}),": Monitor network performance and health"]}),"\n"]}),"\n",(0,i.jsx)(n.h3,{id:"security-considerations",children:"Security Considerations"}),"\n",(0,i.jsxs)(n.ol,{children:["\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.strong,{children:"Firewall rules"}),": Implement appropriate firewall rules"]}),"\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.strong,{children:"Access control"}),": Control network access with policies"]}),"\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.strong,{children:"Encryption"}),": Use encrypted connections where possible"]}),"\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.strong,{children:"Auditing"}),": Log network access for audit purposes"]}),"\n"]}),"\n",(0,i.jsx)(n.h3,{id:"performance-optimization-1",children:"Performance Optimization"}),"\n",(0,i.jsxs)(n.ol,{children:["\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.strong,{children:"Bandwidth management"}),": Set appropriate bandwidth limits"]}),"\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.strong,{children:"Latency optimization"}),": Minimize network latency"]}),"\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.strong,{children:"Load balancing"}),": Distribute load across multiple nodes"]}),"\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.strong,{children:"Caching"}),": Implement network-level caching"]}),"\n"]}),"\n",(0,i.jsx)(n.h2,{id:"next-steps",children:"Next Steps"}),"\n",(0,i.jsx)(n.p,{children:"Now that you understand network configuration:"}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.a,{href:"./auth-service-integration",children:"Authentication Service Integration"})," - Auth\nservice configuration"]}),"\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.a,{href:"./resource-management",children:"Resource Management"})," - Resource limits and monitoring"]}),"\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.a,{href:"./security-configuration",children:"Security Configuration"})," - Security settings and\npolicies"]}),"\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.a,{href:"./advanced-configuration",children:"Advanced Configuration"})," - Other advanced features"]}),"\n"]})]})}function u(e={}){const{wrapper:n}={...(0,t.R)(),...e.components};return n?(0,i.jsx)(n,{...e,children:(0,i.jsx)(d,{...e})}):d(e)}},48854:(e,n,r)=>{r.d(n,{R:()=>a,x:()=>s});var o=r(30758);const i={},t=o.createContext(i);function a(e){const n=o.useContext(t);return o.useMemo(function(){return"function"==typeof e?e(n):{...n,...e}},[n,e])}function s(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(i):e.components||i:a(e.components),o.createElement(t.Provider,{value:n},e.children)}}}]);