"use strict";(self.webpackChunkdocs=self.webpackChunkdocs||[]).push([[5096],{81442:(e,n,s)=>{s.r(n),s.d(n,{assets:()=>d,contentTitle:()=>t,default:()=>h,frontMatter:()=>l,metadata:()=>o,toc:()=>c});const o=JSON.parse('{"id":"developer-tools/merobox/node-management","title":"Node Management","description":"Complete guide to managing Calimero nodes with Merobox CLI commands.","source":"@site/docs/05-developer-tools/merobox/node-management.mdx","sourceDirName":"05-developer-tools/merobox","slug":"/developer-tools/merobox/node-management","permalink":"/developer-tools/merobox/node-management","draft":false,"unlisted":false,"editUrl":"https://github.com/calimero-network/calimero-network.github.io/edit/master/docs/05-developer-tools/merobox/node-management.mdx","tags":[],"version":"current","lastUpdatedAt":1759335963000,"sidebarPosition":2,"frontMatter":{"title":"Node Management","description":"Complete guide to managing Calimero nodes with Merobox CLI commands.","sidebar_position":2},"sidebar":"tutorialSidebar","previous":{"title":"Installation and Setup","permalink":"/developer-tools/merobox/installation"},"next":{"title":"Workflow System","permalink":"/developer-tools/merobox/workflows"}}');var r=s(86070),i=s(83545);const l={title:"Node Management",description:"Complete guide to managing Calimero nodes with Merobox CLI commands.",sidebar_position:2},t="Node Management",d={},c=[{value:"Overview",id:"overview",level:2},{value:"Starting Nodes",id:"starting-nodes",level:2},{value:"Basic Node Startup",id:"basic-node-startup",level:3},{value:"Multiple Nodes",id:"multiple-nodes",level:3},{value:"Custom Configuration",id:"custom-configuration",level:3},{value:"Authentication Service",id:"authentication-service",level:3},{value:"Single Node with Custom Data Directory",id:"single-node-with-custom-data-directory",level:3},{value:"Command Reference",id:"command-reference",level:2},{value:"<code>merobox run</code>",id:"merobox-run",level:3},{value:"Stopping Nodes",id:"stopping-nodes",level:2},{value:"Stop Specific Node",id:"stop-specific-node",level:3},{value:"Stop All Nodes",id:"stop-all-nodes",level:3},{value:"Stop Authentication Service",id:"stop-authentication-service",level:3},{value:"Command Reference",id:"command-reference-1",level:3},{value:"<code>merobox stop</code>",id:"merobox-stop",level:3},{value:"Monitoring Nodes",id:"monitoring-nodes",level:2},{value:"List Running Nodes",id:"list-running-nodes",level:3},{value:"Check Node Health",id:"check-node-health",level:3},{value:"View Node Logs",id:"view-node-logs",level:3},{value:"Command Reference",id:"command-reference-2",level:3},{value:"<code>merobox list</code>",id:"merobox-list",level:4},{value:"<code>merobox health</code>",id:"merobox-health",level:4},{value:"<code>merobox logs</code>",id:"merobox-logs",level:4},{value:"Data Management",id:"data-management",level:2},{value:"Complete Reset",id:"complete-reset",level:3},{value:"Command Reference",id:"command-reference-3",level:3},{value:"<code>merobox nuke</code>",id:"merobox-nuke",level:4},{value:"Port Management",id:"port-management",level:2},{value:"Automatic Port Detection",id:"automatic-port-detection",level:3},{value:"Custom Port Configuration",id:"custom-port-configuration",level:3},{value:"Port Conflicts",id:"port-conflicts",level:3},{value:"Docker Image Management",id:"docker-image-management",level:2},{value:"Default Images",id:"default-images",level:3},{value:"Custom Images",id:"custom-images",level:3},{value:"Force Pull Images",id:"force-pull-images",level:3},{value:"Network Configuration",id:"network-configuration",level:2},{value:"Docker Networks",id:"docker-networks",level:3},{value:"Authentication Service Networks",id:"authentication-service-networks",level:3},{value:"Network Troubleshooting",id:"network-troubleshooting",level:3},{value:"Best Practices",id:"best-practices",level:2},{value:"Development Workflow",id:"development-workflow",level:3},{value:"Production-like Testing",id:"production-like-testing",level:3},{value:"Resource Management",id:"resource-management",level:3},{value:"Troubleshooting",id:"troubleshooting",level:2},{value:"Common Issues",id:"common-issues",level:3},{value:"Node Won&#39;t Start",id:"node-wont-start",level:4},{value:"Health Check Fails",id:"health-check-fails",level:4},{value:"Authentication Issues",id:"authentication-issues",level:4},{value:"Debug Commands",id:"debug-commands",level:3},{value:"Next Steps",id:"next-steps",level:2}];function a(e){const n={a:"a",code:"code",h1:"h1",h2:"h2",h3:"h3",h4:"h4",header:"header",li:"li",ol:"ol",p:"p",pre:"pre",strong:"strong",table:"table",tbody:"tbody",td:"td",th:"th",thead:"thead",tr:"tr",ul:"ul",...(0,i.R)(),...e.components};return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(n.header,{children:(0,r.jsx)(n.h1,{id:"node-management",children:"Node Management"})}),"\n",(0,r.jsx)(n.p,{children:"Merobox provides comprehensive commands for managing Calimero nodes in Docker\ncontainers. This guide covers all the essential node management operations."}),"\n",(0,r.jsx)(n.h2,{id:"overview",children:"Overview"}),"\n",(0,r.jsx)(n.p,{children:"Merobox's node management system allows you to:"}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"Start and Stop Nodes"}),": Launch single or multiple Calimero nodes"]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"Monitor Health"}),": Check node status and connectivity"]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"View Logs"}),": Access real-time and historical logs"]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"Manage Data"}),": Clean up node data and reset environments"]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"Authentication"}),": Enable authentication services with Traefik proxy"]}),"\n"]}),"\n",(0,r.jsx)(n.h2,{id:"starting-nodes",children:"Starting Nodes"}),"\n",(0,r.jsx)(n.h3,{id:"basic-node-startup",children:"Basic Node Startup"}),"\n",(0,r.jsx)(n.p,{children:"Start a single Calimero node with default settings:"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-bash",children:"merobox run\n"})}),"\n",(0,r.jsxs)(n.p,{children:["This creates a node named ",(0,r.jsx)(n.code,{children:"calimero-node-1"})," with:"]}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsxs)(n.li,{children:["Chain ID: ",(0,r.jsx)(n.code,{children:"testnet-1"})]}),"\n",(0,r.jsx)(n.li,{children:"Auto-detected ports"}),"\n",(0,r.jsxs)(n.li,{children:["Default Docker image: ",(0,r.jsx)(n.code,{children:"ghcr.io/calimero-network/merod:edge"})]}),"\n"]}),"\n",(0,r.jsx)(n.h3,{id:"multiple-nodes",children:"Multiple Nodes"}),"\n",(0,r.jsx)(n.p,{children:"Start multiple nodes for testing multi-node scenarios:"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-bash",children:"# Start 3 nodes\nmerobox run --count 3\n\n# Start 5 nodes with custom prefix\nmerobox run --count 5 --prefix my-nodes\n"})}),"\n",(0,r.jsx)(n.h3,{id:"custom-configuration",children:"Custom Configuration"}),"\n",(0,r.jsx)(n.p,{children:"Configure nodes with specific settings:"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-bash",children:"# Custom chain ID and ports\nmerobox run --count 2 --chain-id mainnet-1 --base-port 2428 --base-rpc-port 2528\n\n# Custom Docker image\nmerobox run --image ghcr.io/calimero-network/merod:latest\n\n# Force pull latest image\nmerobox run --force-pull --image ghcr.io/calimero-network/merod:edge\n"})}),"\n",(0,r.jsx)(n.h3,{id:"authentication-service",children:"Authentication Service"}),"\n",(0,r.jsx)(n.p,{children:"Enable authentication service with Traefik proxy:"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-bash",children:"# Start nodes with auth service\nmerobox run --count 2 --auth-service\n\n# Custom auth service image\nmerobox run --auth-service --auth-image ghcr.io/calimero-network/mero-auth:latest\n"})}),"\n",(0,r.jsx)(n.p,{children:"When auth service is enabled:"}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsxs)(n.li,{children:["Nodes are accessible via ",(0,r.jsx)(n.code,{children:"http://node1.127.0.0.1.nip.io"})]}),"\n",(0,r.jsxs)(n.li,{children:["Admin dashboard: ",(0,r.jsx)(n.code,{children:"http://node1.127.0.0.1.nip.io/admin-dashboard"})]}),"\n",(0,r.jsx)(n.li,{children:"API endpoints require authentication"}),"\n"]}),"\n",(0,r.jsx)(n.h3,{id:"single-node-with-custom-data-directory",children:"Single Node with Custom Data Directory"}),"\n",(0,r.jsx)(n.p,{children:"For development with persistent data:"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-bash",children:"merobox run --data-dir /path/to/custom/data\n"})}),"\n",(0,r.jsx)(n.h2,{id:"command-reference",children:"Command Reference"}),"\n",(0,r.jsx)(n.h3,{id:"merobox-run",children:(0,r.jsx)(n.code,{children:"merobox run"})}),"\n",(0,r.jsx)(n.p,{children:"Start Calimero nodes in Docker containers."}),"\n",(0,r.jsx)(n.p,{children:(0,r.jsx)(n.strong,{children:"Syntax:"})}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-bash",children:"merobox run [OPTIONS]\n"})}),"\n",(0,r.jsx)(n.p,{children:(0,r.jsx)(n.strong,{children:"Options:"})}),"\n",(0,r.jsxs)(n.table,{children:[(0,r.jsx)(n.thead,{children:(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.th,{children:"Option"}),(0,r.jsx)(n.th,{children:"Short"}),(0,r.jsx)(n.th,{children:"Default"}),(0,r.jsx)(n.th,{children:"Description"})]})}),(0,r.jsxs)(n.tbody,{children:[(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:(0,r.jsx)(n.code,{children:"--count"})}),(0,r.jsx)(n.td,{children:(0,r.jsx)(n.code,{children:"-c"})}),(0,r.jsx)(n.td,{children:(0,r.jsx)(n.code,{children:"1"})}),(0,r.jsx)(n.td,{children:"Number of nodes to start"})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:(0,r.jsx)(n.code,{children:"--base-port"})}),(0,r.jsx)(n.td,{children:(0,r.jsx)(n.code,{children:"-p"})}),(0,r.jsx)(n.td,{children:"Auto-detect"}),(0,r.jsx)(n.td,{children:"Base P2P port for first node"})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:(0,r.jsx)(n.code,{children:"--base-rpc-port"})}),(0,r.jsx)(n.td,{children:(0,r.jsx)(n.code,{children:"-r"})}),(0,r.jsx)(n.td,{children:"Auto-detect"}),(0,r.jsx)(n.td,{children:"Base RPC port for first node"})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:(0,r.jsx)(n.code,{children:"--chain-id"})}),(0,r.jsx)(n.td,{}),(0,r.jsx)(n.td,{children:(0,r.jsx)(n.code,{children:"testnet-1"})}),(0,r.jsx)(n.td,{children:"Blockchain chain ID"})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:(0,r.jsx)(n.code,{children:"--prefix"})}),(0,r.jsx)(n.td,{}),(0,r.jsx)(n.td,{children:(0,r.jsx)(n.code,{children:"calimero-node"})}),(0,r.jsx)(n.td,{children:"Node name prefix"})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:(0,r.jsx)(n.code,{children:"--data-dir"})}),(0,r.jsx)(n.td,{}),(0,r.jsx)(n.td,{}),(0,r.jsx)(n.td,{children:"Custom data directory (single node only)"})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:(0,r.jsx)(n.code,{children:"--image"})}),(0,r.jsx)(n.td,{}),(0,r.jsx)(n.td,{children:"Default image"}),(0,r.jsx)(n.td,{children:"Custom Docker image"})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:(0,r.jsx)(n.code,{children:"--force-pull"})}),(0,r.jsx)(n.td,{}),(0,r.jsx)(n.td,{children:(0,r.jsx)(n.code,{children:"False"})}),(0,r.jsx)(n.td,{children:"Force pull Docker image"})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:(0,r.jsx)(n.code,{children:"--auth-service"})}),(0,r.jsx)(n.td,{}),(0,r.jsx)(n.td,{children:(0,r.jsx)(n.code,{children:"False"})}),(0,r.jsx)(n.td,{children:"Enable authentication service"})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:(0,r.jsx)(n.code,{children:"--auth-image"})}),(0,r.jsx)(n.td,{}),(0,r.jsx)(n.td,{children:"Default auth image"}),(0,r.jsx)(n.td,{children:"Custom auth service image"})]})]})]}),"\n",(0,r.jsx)(n.p,{children:(0,r.jsx)(n.strong,{children:"Examples:"})}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-bash",children:"# Basic usage\nmerobox run\n\n# Multiple nodes\nmerobox run --count 3\n\n# Custom configuration\nmerobox run --count 2 --chain-id mainnet-1 --prefix my-nodes\n\n# With authentication\nmerobox run --count 2 --auth-service\n\n# Force pull latest image\nmerobox run --force-pull --image ghcr.io/calimero-network/merod:edge\n"})}),"\n",(0,r.jsx)(n.h2,{id:"stopping-nodes",children:"Stopping Nodes"}),"\n",(0,r.jsx)(n.h3,{id:"stop-specific-node",children:"Stop Specific Node"}),"\n",(0,r.jsx)(n.p,{children:"Stop a single node by name:"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-bash",children:"merobox stop calimero-node-1\n"})}),"\n",(0,r.jsx)(n.h3,{id:"stop-all-nodes",children:"Stop All Nodes"}),"\n",(0,r.jsx)(n.p,{children:"Stop all running Calimero nodes:"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-bash",children:"merobox stop --all\n"})}),"\n",(0,r.jsx)(n.h3,{id:"stop-authentication-service",children:"Stop Authentication Service"}),"\n",(0,r.jsx)(n.p,{children:"Stop only the authentication service stack:"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-bash",children:"merobox stop --auth-service\n"})}),"\n",(0,r.jsx)(n.h3,{id:"command-reference-1",children:"Command Reference"}),"\n",(0,r.jsx)(n.h3,{id:"merobox-stop",children:(0,r.jsx)(n.code,{children:"merobox stop"})}),"\n",(0,r.jsx)(n.p,{children:"Stop Calimero nodes and services."}),"\n",(0,r.jsx)(n.p,{children:(0,r.jsx)(n.strong,{children:"Syntax:"})}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-bash",children:"merobox stop [NODE_NAME] [OPTIONS]\n"})}),"\n",(0,r.jsx)(n.p,{children:(0,r.jsx)(n.strong,{children:"Arguments:"})}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.code,{children:"NODE_NAME"}),": Specific node name to stop (optional)"]}),"\n"]}),"\n",(0,r.jsx)(n.p,{children:(0,r.jsx)(n.strong,{children:"Options:"})}),"\n",(0,r.jsxs)(n.table,{children:[(0,r.jsx)(n.thead,{children:(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.th,{children:"Option"}),(0,r.jsx)(n.th,{children:"Description"})]})}),(0,r.jsxs)(n.tbody,{children:[(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:(0,r.jsx)(n.code,{children:"--all"})}),(0,r.jsx)(n.td,{children:"Stop all running nodes and auth service stack"})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:(0,r.jsx)(n.code,{children:"--auth-service"})}),(0,r.jsx)(n.td,{children:"Stop auth service stack only (Traefik + Auth)"})]})]})]}),"\n",(0,r.jsx)(n.p,{children:(0,r.jsx)(n.strong,{children:"Examples:"})}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-bash",children:"# Stop specific node\nmerobox stop calimero-node-1\n\n# Stop all nodes\nmerobox stop --all\n\n# Stop auth service only\nmerobox stop --auth-service\n"})}),"\n",(0,r.jsx)(n.h2,{id:"monitoring-nodes",children:"Monitoring Nodes"}),"\n",(0,r.jsx)(n.h3,{id:"list-running-nodes",children:"List Running Nodes"}),"\n",(0,r.jsx)(n.p,{children:"View all currently running Calimero nodes:"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-bash",children:"merobox list\n"})}),"\n",(0,r.jsx)(n.p,{children:"Output shows:"}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsx)(n.li,{children:"Node names"}),"\n",(0,r.jsx)(n.li,{children:"Container status"}),"\n",(0,r.jsx)(n.li,{children:"Port mappings"}),"\n",(0,r.jsx)(n.li,{children:"Image information"}),"\n"]}),"\n",(0,r.jsx)(n.h3,{id:"check-node-health",children:"Check Node Health"}),"\n",(0,r.jsx)(n.p,{children:"Monitor node health and connectivity:"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-bash",children:"# Check all running nodes\nmerobox health\n\n# Check specific node\nmerobox health --node calimero-node-1\n\n# Verbose output with detailed information\nmerobox health --verbose\n"})}),"\n",(0,r.jsx)(n.p,{children:"Health check includes:"}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"Health Status"}),": Node operational status"]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"Authentication"}),": Admin API authentication status"]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"Peers"}),": Number of connected peers"]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"API Connectivity"}),": Admin API endpoint availability"]}),"\n"]}),"\n",(0,r.jsx)(n.h3,{id:"view-node-logs",children:"View Node Logs"}),"\n",(0,r.jsx)(n.p,{children:"Access real-time and historical logs:"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-bash",children:"# Show last 100 lines\nmerobox logs calimero-node-1\n\n# Show last 500 lines\nmerobox logs calimero-node-1 --tail 500\n\n# Follow logs in real-time\nmerobox logs calimero-node-1 --follow\n"})}),"\n",(0,r.jsx)(n.h3,{id:"command-reference-2",children:"Command Reference"}),"\n",(0,r.jsx)(n.h4,{id:"merobox-list",children:(0,r.jsx)(n.code,{children:"merobox list"})}),"\n",(0,r.jsx)(n.p,{children:"List all running Calimero nodes."}),"\n",(0,r.jsx)(n.p,{children:(0,r.jsx)(n.strong,{children:"Syntax:"})}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-bash",children:"merobox list\n"})}),"\n",(0,r.jsx)(n.h4,{id:"merobox-health",children:(0,r.jsx)(n.code,{children:"merobox health"})}),"\n",(0,r.jsx)(n.p,{children:"Check node health status."}),"\n",(0,r.jsx)(n.p,{children:(0,r.jsx)(n.strong,{children:"Syntax:"})}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-bash",children:"merobox health [OPTIONS]\n"})}),"\n",(0,r.jsx)(n.p,{children:(0,r.jsx)(n.strong,{children:"Options:"})}),"\n",(0,r.jsxs)(n.table,{children:[(0,r.jsx)(n.thead,{children:(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.th,{children:"Option"}),(0,r.jsx)(n.th,{children:"Short"}),(0,r.jsx)(n.th,{children:"Default"}),(0,r.jsx)(n.th,{children:"Description"})]})}),(0,r.jsxs)(n.tbody,{children:[(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:(0,r.jsx)(n.code,{children:"--node"})}),(0,r.jsx)(n.td,{children:(0,r.jsx)(n.code,{children:"-n"})}),(0,r.jsx)(n.td,{children:"All nodes"}),(0,r.jsx)(n.td,{children:"Specific node name to check"})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:(0,r.jsx)(n.code,{children:"--timeout"})}),(0,r.jsx)(n.td,{}),(0,r.jsx)(n.td,{children:(0,r.jsx)(n.code,{children:"10"})}),(0,r.jsx)(n.td,{children:"Timeout in seconds for health check"})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:(0,r.jsx)(n.code,{children:"--verbose"})}),(0,r.jsx)(n.td,{children:(0,r.jsx)(n.code,{children:"-v"})}),(0,r.jsx)(n.td,{children:(0,r.jsx)(n.code,{children:"False"})}),(0,r.jsx)(n.td,{children:"Show verbose output with raw responses"})]})]})]}),"\n",(0,r.jsx)(n.h4,{id:"merobox-logs",children:(0,r.jsx)(n.code,{children:"merobox logs"})}),"\n",(0,r.jsx)(n.p,{children:"View node logs."}),"\n",(0,r.jsx)(n.p,{children:(0,r.jsx)(n.strong,{children:"Syntax:"})}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-bash",children:"merobox logs NODE_NAME [OPTIONS]\n"})}),"\n",(0,r.jsx)(n.p,{children:(0,r.jsx)(n.strong,{children:"Arguments:"})}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.code,{children:"NODE_NAME"}),": Name of the node to view logs for"]}),"\n"]}),"\n",(0,r.jsx)(n.p,{children:(0,r.jsx)(n.strong,{children:"Options:"})}),"\n",(0,r.jsxs)(n.table,{children:[(0,r.jsx)(n.thead,{children:(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.th,{children:"Option"}),(0,r.jsx)(n.th,{children:"Default"}),(0,r.jsx)(n.th,{children:"Description"})]})}),(0,r.jsx)(n.tbody,{children:(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:(0,r.jsx)(n.code,{children:"--tail"})}),(0,r.jsx)(n.td,{children:(0,r.jsx)(n.code,{children:"100"})}),(0,r.jsx)(n.td,{children:"Number of log lines to show"})]})})]}),"\n",(0,r.jsx)(n.h2,{id:"data-management",children:"Data Management"}),"\n",(0,r.jsx)(n.h3,{id:"complete-reset",children:"Complete Reset"}),"\n",(0,r.jsx)(n.p,{children:"Remove all node data and containers for a fresh start:"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-bash",children:"# Dry run to see what would be deleted\nmerobox nuke --dry-run\n\n# Actually delete all data (requires confirmation)\nmerobox nuke\n\n# Force deletion without confirmation\nmerobox nuke --force\n"})}),"\n",(0,r.jsxs)(n.p,{children:["The ",(0,r.jsx)(n.code,{children:"nuke"})," command:"]}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsx)(n.li,{children:"Stops all running nodes"}),"\n",(0,r.jsx)(n.li,{children:"Deletes all data directories"}),"\n",(0,r.jsx)(n.li,{children:"Removes containers"}),"\n",(0,r.jsx)(n.li,{children:"Shows space freed"}),"\n"]}),"\n",(0,r.jsx)(n.h3,{id:"command-reference-3",children:"Command Reference"}),"\n",(0,r.jsx)(n.h4,{id:"merobox-nuke",children:(0,r.jsx)(n.code,{children:"merobox nuke"})}),"\n",(0,r.jsx)(n.p,{children:"Delete all Calimero node data for complete reset."}),"\n",(0,r.jsx)(n.p,{children:(0,r.jsx)(n.strong,{children:"Syntax:"})}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-bash",children:"merobox nuke [OPTIONS]\n"})}),"\n",(0,r.jsx)(n.p,{children:(0,r.jsx)(n.strong,{children:"Options:"})}),"\n",(0,r.jsxs)(n.table,{children:[(0,r.jsx)(n.thead,{children:(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.th,{children:"Option"}),(0,r.jsx)(n.th,{children:"Short"}),(0,r.jsx)(n.th,{children:"Description"})]})}),(0,r.jsxs)(n.tbody,{children:[(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:(0,r.jsx)(n.code,{children:"--dry-run"})}),(0,r.jsx)(n.td,{}),(0,r.jsx)(n.td,{children:"Show what would be deleted without actually deleting"})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:(0,r.jsx)(n.code,{children:"--force"})}),(0,r.jsx)(n.td,{children:(0,r.jsx)(n.code,{children:"-f"})}),(0,r.jsx)(n.td,{children:"Force deletion without confirmation prompt"})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:(0,r.jsx)(n.code,{children:"--verbose"})}),(0,r.jsx)(n.td,{children:(0,r.jsx)(n.code,{children:"-v"})}),(0,r.jsx)(n.td,{children:"Show verbose output"})]})]})]}),"\n",(0,r.jsx)(n.h2,{id:"port-management",children:"Port Management"}),"\n",(0,r.jsx)(n.h3,{id:"automatic-port-detection",children:"Automatic Port Detection"}),"\n",(0,r.jsx)(n.p,{children:"Merobox automatically detects available ports:"}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"P2P Ports"}),": Starting from 2428, increments by 1 for each node"]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"RPC Ports"}),": Starting from 2528, increments by 1 for each node"]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"Conflict Resolution"}),": Automatically finds next available ports"]}),"\n"]}),"\n",(0,r.jsx)(n.h3,{id:"custom-port-configuration",children:"Custom Port Configuration"}),"\n",(0,r.jsx)(n.p,{children:"Specify custom ports for your nodes:"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-bash",children:"# Custom base ports\nmerobox run --count 3 --base-port 3000 --base-rpc-port 4000\n\n# Results in:\n# Node 1: P2P=3000, RPC=4000\n# Node 2: P2P=3001, RPC=4001\n# Node 3: P2P=3002, RPC=4002\n"})}),"\n",(0,r.jsx)(n.h3,{id:"port-conflicts",children:"Port Conflicts"}),"\n",(0,r.jsx)(n.p,{children:"If ports are already in use:"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-bash",children:"# Check what's using a port\nlsof -ti:2528\n\n# Kill process using port\nlsof -ti:2528 | xargs kill\n\n# Or use different ports\nmerobox run --base-rpc-port 3000\n"})}),"\n",(0,r.jsx)(n.h2,{id:"docker-image-management",children:"Docker Image Management"}),"\n",(0,r.jsx)(n.h3,{id:"default-images",children:"Default Images"}),"\n",(0,r.jsx)(n.p,{children:"Merobox uses these default Docker images:"}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"Node Image"}),": ",(0,r.jsx)(n.code,{children:"ghcr.io/calimero-network/merod:edge"})]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"Auth Service"}),": ",(0,r.jsx)(n.code,{children:"ghcr.io/calimero-network/mero-auth:edge"})]}),"\n"]}),"\n",(0,r.jsx)(n.h3,{id:"custom-images",children:"Custom Images"}),"\n",(0,r.jsx)(n.p,{children:"Use custom Docker images:"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-bash",children:"# Custom node image\nmerobox run --image ghcr.io/calimero-network/merod:latest\n\n# Custom auth image\nmerobox run --auth-service --auth-image ghcr.io/calimero-network/mero-auth:latest\n"})}),"\n",(0,r.jsx)(n.h3,{id:"force-pull-images",children:"Force Pull Images"}),"\n",(0,r.jsx)(n.p,{children:"Always use the latest images:"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-bash",children:"# Force pull node image\nmerobox run --force-pull --image ghcr.io/calimero-network/merod:edge\n\n# Force pull in workflow\n# Set force_pull_image: true in workflow YAML\n"})}),"\n",(0,r.jsx)(n.h2,{id:"network-configuration",children:"Network Configuration"}),"\n",(0,r.jsx)(n.h3,{id:"docker-networks",children:"Docker Networks"}),"\n",(0,r.jsx)(n.p,{children:"Merobox automatically creates and manages Docker networks:"}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"Default Network"}),": ",(0,r.jsx)(n.code,{children:"bridge"})," for basic node communication"]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"Auth Networks"}),": ",(0,r.jsx)(n.code,{children:"calimero_web"})," and ",(0,r.jsx)(n.code,{children:"calimero_internal"})," when auth service is\nenabled"]}),"\n"]}),"\n",(0,r.jsx)(n.h3,{id:"authentication-service-networks",children:"Authentication Service Networks"}),"\n",(0,r.jsxs)(n.p,{children:["When ",(0,r.jsx)(n.code,{children:"--auth-service"})," is enabled:"]}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"calimero_web"}),": External communication (Traefik \u2194 Internet)"]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"calimero_internal"}),": Secure backend communication (Auth \u2194 Nodes)"]}),"\n"]}),"\n",(0,r.jsx)(n.h3,{id:"network-troubleshooting",children:"Network Troubleshooting"}),"\n",(0,r.jsx)(n.p,{children:"Check network configuration:"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-bash",children:"# List Docker networks\ndocker network ls\n\n# Inspect network\ndocker network inspect calimero_web\n\n# Check container networking\ndocker inspect calimero-node-1\n"})}),"\n",(0,r.jsx)(n.h2,{id:"best-practices",children:"Best Practices"}),"\n",(0,r.jsx)(n.h3,{id:"development-workflow",children:"Development Workflow"}),"\n",(0,r.jsxs)(n.ol,{children:["\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"Start Fresh"}),": Use ",(0,r.jsx)(n.code,{children:"merobox nuke"})," to clean up between development sessions"]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"Use Prefixes"}),": Use descriptive prefixes for different test scenarios"]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"Monitor Health"}),": Regularly check ",(0,r.jsx)(n.code,{children:"merobox health"})," during development"]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"View Logs"}),": Use ",(0,r.jsx)(n.code,{children:"merobox logs"})," to debug issues"]}),"\n"]}),"\n",(0,r.jsx)(n.h3,{id:"production-like-testing",children:"Production-like Testing"}),"\n",(0,r.jsxs)(n.ol,{children:["\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"Multiple Nodes"}),": Test with multiple nodes to simulate real scenarios"]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"Authentication"}),": Use ",(0,r.jsx)(n.code,{children:"--auth-service"})," for production-like testing"]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"Custom Images"}),": Test with specific image versions"]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"Port Management"}),": Use custom ports to avoid conflicts"]}),"\n"]}),"\n",(0,r.jsx)(n.h3,{id:"resource-management",children:"Resource Management"}),"\n",(0,r.jsxs)(n.ol,{children:["\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"Clean Up"}),": Regularly use ",(0,r.jsx)(n.code,{children:"merobox nuke"})," to free disk space"]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"Monitor Resources"}),": Use ",(0,r.jsx)(n.code,{children:"docker stats"})," to monitor resource usage"]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"Stop Unused Nodes"}),": Stop nodes when not needed to save resources"]}),"\n"]}),"\n",(0,r.jsx)(n.h2,{id:"troubleshooting",children:"Troubleshooting"}),"\n",(0,r.jsx)(n.h3,{id:"common-issues",children:"Common Issues"}),"\n",(0,r.jsx)(n.h4,{id:"node-wont-start",children:"Node Won't Start"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-bash",children:"# Check Docker is running\ndocker ps\n\n# Check port conflicts\nnetstat -tulpn | grep :2528\n\n# Clean up and retry\nmerobox nuke\nmerobox run\n"})}),"\n",(0,r.jsx)(n.h4,{id:"health-check-fails",children:"Health Check Fails"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-bash",children:"# Check node logs\nmerobox logs calimero-node-1\n\n# Check specific node health\nmerobox health --node calimero-node-1 --verbose\n\n# Restart node\nmerobox stop calimero-node-1\nmerobox run --count 1\n"})}),"\n",(0,r.jsx)(n.h4,{id:"authentication-issues",children:"Authentication Issues"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-bash",children:'# Check auth service status\ndocker ps | grep -E "(proxy|auth)"\n\n# Restart auth service\nmerobox stop --auth-service\nmerobox run --auth-service\n'})}),"\n",(0,r.jsx)(n.h3,{id:"debug-commands",children:"Debug Commands"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-bash",children:"# Enable debug logging\nLOG_LEVEL=DEBUG merobox run\n\n# Verbose health check\nmerobox health --verbose\n\n# Check Docker containers\ndocker ps -a | grep calimero\n\n# Check Docker logs\ndocker logs calimero-node-1\n"})}),"\n",(0,r.jsx)(n.h2,{id:"next-steps",children:"Next Steps"}),"\n",(0,r.jsx)(n.p,{children:"Now that you understand node management:"}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.a,{href:"./workflows",children:"Workflow Configuration"})," - Create and run complex workflows"]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.a,{href:"./examples",children:"Examples and Tutorials"})," - Practical examples and tutorials"]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.a,{href:"./advanced-configuration",children:"Advanced Configuration"})," - Advanced setup options"]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.a,{href:"./troubleshooting",children:"Troubleshooting"})," - Common issues and solutions"]}),"\n"]})]})}function h(e={}){const{wrapper:n}={...(0,i.R)(),...e.components};return n?(0,r.jsx)(n,{...e,children:(0,r.jsx)(a,{...e})}):a(e)}},83545:(e,n,s)=>{s.d(n,{R:()=>l,x:()=>t});var o=s(30758);const r={},i=o.createContext(r);function l(e){const n=o.useContext(i);return o.useMemo(function(){return"function"==typeof e?e(n):{...n,...e}},[n,e])}function t(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(r):e.components||r:l(e.components),o.createElement(i.Provider,{value:n},e.children)}}}]);