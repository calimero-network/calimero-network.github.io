"use strict";(self.webpackChunkdocs=self.webpackChunkdocs||[]).push([[9678],{2975:(e,n,i)=>{i.r(n),i.d(n,{assets:()=>o,contentTitle:()=>a,default:()=>d,frontMatter:()=>r,metadata:()=>l,toc:()=>c});var t=i(6070),s=i(5658);const r={id:"starknet-integration",title:"Starknet Integration"},a="Starknet Integration",l={id:"integrations/blockchains/starknet-integration",title:"Starknet Integration",description:"Calimero offers integration with Starknet, allowing users to authenticate using",source:"@site/docs/07-integrations/02-blockchains/02-starknet-integration.mdx",sourceDirName:"07-integrations/02-blockchains",slug:"/integrations/blockchains/starknet-integration",permalink:"/integrations/blockchains/starknet-integration",draft:!1,unlisted:!1,editUrl:"https://github.com/calimero-network/calimero-network.github.io/edit/master/docs/07-integrations/02-blockchains/02-starknet-integration.mdx",tags:[],version:"current",lastUpdatedAt:1732690599e3,sidebarPosition:2,frontMatter:{id:"starknet-integration",title:"Starknet Integration"},sidebar:"tutorialSidebar",previous:{title:"NEAR Integration",permalink:"/integrations/blockchains/near-integration"},next:{title:"ICP Integration",permalink:"/integrations/blockchains/icp-integration"}},o={},c=[{value:"Logging in with Starknet",id:"logging-in-with-starknet",level:2},{value:"1. User Initiates Login",id:"1-user-initiates-login",level:3},{value:"2. Wallet Selection",id:"2-wallet-selection",level:3},{value:"3. Wallet Connection",id:"3-wallet-connection",level:3},{value:"For ArgentX:",id:"for-argentx",level:4},{value:"For Metamask Snap:",id:"for-metamask-snap",level:4},{value:"4. Server Issues Challenge",id:"4-server-issues-challenge",level:3},{value:"5. User Signs Challenge",id:"5-user-signs-challenge",level:3},{value:"6. Signature Sent to Backend",id:"6-signature-sent-to-backend",level:3},{value:"7. Signature Verification",id:"7-signature-verification",level:3},{value:"For ArgentX Wallets:",id:"for-argentx-wallets",level:4},{value:"For Metamask Snap:",id:"for-metamask-snap-1",level:4},{value:"Final Steps:",id:"final-steps",level:4},{value:"8. Successful Login",id:"8-successful-login",level:3},{value:"Current Limitations",id:"current-limitations",level:2},{value:"Read-Only Functionality",id:"read-only-functionality",level:3},{value:"Future Developments",id:"future-developments",level:3}];function h(e){const n={code:"code",h1:"h1",h2:"h2",h3:"h3",h4:"h4",header:"header",li:"li",ol:"ol",p:"p",strong:"strong",ul:"ul",...(0,s.R)(),...e.components};return(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(n.header,{children:(0,t.jsx)(n.h1,{id:"starknet-integration",children:"Starknet Integration"})}),"\n",(0,t.jsx)(n.p,{children:"Calimero offers integration with Starknet, allowing users to authenticate using\ntheir Starknet accounts. Currently, this integration supports login\nfunctionality through ArgentX wallet and Metamask Snap, providing a secure and\nuser-friendly way to access the Admin Dashboard."}),"\n",(0,t.jsx)(n.h2,{id:"logging-in-with-starknet",children:"Logging in with Starknet"}),"\n",(0,t.jsx)(n.p,{children:"Calimero allows users to authenticate via their Starknet wallet, ensuring secure\naccess to the Admin Dashboard. The process of logging in with a Starknet wallet\ninvolves the following steps:"}),"\n",(0,t.jsx)(n.h3,{id:"1-user-initiates-login",children:"1. User Initiates Login"}),"\n",(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsx)(n.li,{children:'The user navigates to the Admin Dashboard and selects the option to "Login\nwith Starknet."'}),"\n",(0,t.jsx)(n.li,{children:"They are presented with two wallet options: ArgentX and Metamask Snap."}),"\n"]}),"\n",(0,t.jsx)(n.h3,{id:"2-wallet-selection",children:"2. Wallet Selection"}),"\n",(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsx)(n.li,{children:"The user chooses their preferred wallet: ArgentX or Metamask Snap."}),"\n"]}),"\n",(0,t.jsx)(n.h3,{id:"3-wallet-connection",children:"3. Wallet Connection"}),"\n",(0,t.jsx)(n.h4,{id:"for-argentx",children:"For ArgentX:"}),"\n",(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsx)(n.li,{children:"If ArgentX is installed, the user is prompted to connect their wallet."}),"\n",(0,t.jsx)(n.li,{children:"If not installed, the user is directed to install the ArgentX browser\nextension."}),"\n"]}),"\n",(0,t.jsx)(n.h4,{id:"for-metamask-snap",children:"For Metamask Snap:"}),"\n",(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsx)(n.li,{children:"If Metamask with Starknet Snap is installed, the user is prompted to connect."}),"\n",(0,t.jsx)(n.li,{children:"If not installed, the user is guided to install Metamask and the Starknet\nSnap."}),"\n"]}),"\n",(0,t.jsx)(n.h3,{id:"4-server-issues-challenge",children:"4. Server Issues Challenge"}),"\n",(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsx)(n.li,{children:"Upon selecting the wallet, the server generates a challenge. This challenge is\nthen presented to the user for signing."}),"\n"]}),"\n",(0,t.jsx)(n.h3,{id:"5-user-signs-challenge",children:"5. User Signs Challenge"}),"\n",(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsx)(n.li,{children:"The user is prompted to sign the server-issued challenge using their selected\nStarknet wallet."}),"\n"]}),"\n",(0,t.jsx)(n.h3,{id:"6-signature-sent-to-backend",children:"6. Signature Sent to Backend"}),"\n",(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsx)(n.li,{children:"After the user signs the challenge, the signature is sent back to the server\nfor verification."}),"\n"]}),"\n",(0,t.jsx)(n.h3,{id:"7-signature-verification",children:"7. Signature Verification"}),"\n",(0,t.jsx)(n.p,{children:"The backend verifies the signature to ensure its authenticity using a process\ntailored to Starknet's cryptographic standards. This verification process\ndiffers depending on whether the user is using ArgentX or Metamask Snap."}),"\n",(0,t.jsx)(n.h4,{id:"for-argentx-wallets",children:"For ArgentX Wallets:"}),"\n",(0,t.jsxs)(n.ol,{children:["\n",(0,t.jsxs)(n.li,{children:["\n",(0,t.jsxs)(n.p,{children:[(0,t.jsx)(n.strong,{children:"On-Chain Verification"}),":"]}),"\n",(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsx)(n.li,{children:"The signature is initially verified on-chain using the Starknet network."}),"\n",(0,t.jsxs)(n.li,{children:["A JSON-RPC call is made to the Starknet node, invoking the\n",(0,t.jsx)(n.code,{children:"isValidSignature"})," function on the user's wallet contract."]}),"\n",(0,t.jsx)(n.li,{children:"This on-chain verification ensures the signature's validity according to\nthe wallet's implementation."}),"\n"]}),"\n"]}),"\n",(0,t.jsxs)(n.li,{children:["\n",(0,t.jsxs)(n.p,{children:[(0,t.jsx)(n.strong,{children:"Message Hash Verification"}),":"]}),"\n",(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsx)(n.li,{children:"If the on-chain verification succeeds, an additional verification of the\nmessage hash is performed off-chain."}),"\n",(0,t.jsx)(n.li,{children:"This step ensures the integrity of the signed message and prevents any\ntampering."}),"\n"]}),"\n"]}),"\n"]}),"\n",(0,t.jsx)(n.h4,{id:"for-metamask-snap-1",children:"For Metamask Snap:"}),"\n",(0,t.jsxs)(n.ol,{children:["\n",(0,t.jsxs)(n.li,{children:["\n",(0,t.jsxs)(n.p,{children:[(0,t.jsx)(n.strong,{children:"Off-Chain Verification"}),":"]}),"\n",(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsx)(n.li,{children:"The signature is verified off-chain using Starknet's cryptographic\nlibraries."}),"\n",(0,t.jsxs)(n.li,{children:["This involves using the ",(0,t.jsx)(n.code,{children:"verify"})," function from the ",(0,t.jsx)(n.code,{children:"starknet_crypto"}),"\nlibrary to check the signature against the provided public key."]}),"\n"]}),"\n"]}),"\n",(0,t.jsxs)(n.li,{children:["\n",(0,t.jsxs)(n.p,{children:[(0,t.jsx)(n.strong,{children:"Message Hash Verification"}),":"]}),"\n",(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsx)(n.li,{children:"If the signature is valid, an additional verification of the message hash\nis performed."}),"\n",(0,t.jsx)(n.li,{children:"This ensures the integrity of the signed message, similar to the ArgentX\nprocess."}),"\n"]}),"\n"]}),"\n"]}),"\n",(0,t.jsx)(n.h4,{id:"final-steps",children:"Final Steps:"}),"\n",(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsx)(n.li,{children:"If the signature and hash are valid, the user's Starknet address is extracted\nfrom the wallet address used in the verification process."}),"\n",(0,t.jsx)(n.li,{children:"This address serves as the user's Decentralized Identifier (DID), enabling\ndecentralized authentication across different contexts and applications."}),"\n"]}),"\n",(0,t.jsx)(n.h3,{id:"8-successful-login",children:"8. Successful Login"}),"\n",(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsx)(n.li,{children:"Once verified, the user is successfully logged into the Admin Dashboard, with\ntheir Starknet address (DID) serving as their user ID for future interactions."}),"\n"]}),"\n",(0,t.jsx)(n.p,{children:"This login flow ensures a secure and seamless authentication process leveraging\nStarknet's robust blockchain-based security."}),"\n",(0,t.jsx)(n.h2,{id:"current-limitations",children:"Current Limitations"}),"\n",(0,t.jsx)(n.h3,{id:"read-only-functionality",children:"Read-Only Functionality"}),"\n",(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsx)(n.li,{children:"At present, the Starknet integration is limited to authentication and login\nfunctionality."}),"\n",(0,t.jsx)(n.li,{children:"Read and write operations on the Starknet blockchain are not yet implemented\nin this version of the integration."}),"\n"]}),"\n",(0,t.jsx)(n.h3,{id:"future-developments",children:"Future Developments"}),"\n",(0,t.jsx)(n.p,{children:"We are actively working on expanding the Starknet integration to include:"}),"\n",(0,t.jsxs)(n.ol,{children:["\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.strong,{children:"Read Operations"}),": Implementing secure methods to read data from the\nStarknet blockchain."]}),"\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.strong,{children:"Write Operations"}),": Developing functionality for users to perform write\noperations on the Starknet blockchain."]}),"\n"]}),"\n",(0,t.jsx)(n.p,{children:"Stay tuned for updates as we continue to enhance our Starknet integration\ncapabilities."})]})}function d(e={}){const{wrapper:n}={...(0,s.R)(),...e.components};return n?(0,t.jsx)(n,{...e,children:(0,t.jsx)(h,{...e})}):h(e)}},5658:(e,n,i)=>{i.d(n,{R:()=>a,x:()=>l});var t=i(758);const s={},r=t.createContext(s);function a(e){const n=t.useContext(r);return t.useMemo((function(){return"function"==typeof e?e(n):{...n,...e}}),[n,e])}function l(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(s):e.components||s:a(e.components),t.createElement(r.Provider,{value:n},e.children)}}}]);