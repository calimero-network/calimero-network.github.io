<!doctype html>
<html lang="en" dir="ltr" class="docs-wrapper plugin-docs plugin-id-default docs-version-0.5.0 docs-doc-page docs-doc-id-tutorials/awesome-projects/building-with-icp" data-has-hydrated="false">
<head>
<meta charset="UTF-8">
<meta name="generator" content="Docusaurus v3.7.0">
<title data-rh="true">Building with Internet Computer (ICP) | Calimero Network</title><meta data-rh="true" name="viewport" content="width=device-width,initial-scale=1"><meta data-rh="true" name="twitter:card" content="summary_large_image"><meta data-rh="true" property="og:url" content="https://calimero-network.github.io/0.5.0/tutorials/awesome-projects/building-with-icp"><meta data-rh="true" property="og:locale" content="en"><meta data-rh="true" name="docusaurus_locale" content="en"><meta data-rh="true" name="docsearch:language" content="en"><meta data-rh="true" name="docusaurus_version" content="0.5.0"><meta data-rh="true" name="docusaurus_tag" content="docs-default-0.5.0"><meta data-rh="true" name="docsearch:version" content="0.5.0"><meta data-rh="true" name="docsearch:docusaurus_tag" content="docs-default-0.5.0"><meta data-rh="true" property="og:title" content="Building with Internet Computer (ICP) | Calimero Network"><meta data-rh="true" name="description" content="Step-by-Step Guide to Building an Application for Calimero with Internet"><meta data-rh="true" property="og:description" content="Step-by-Step Guide to Building an Application for Calimero with Internet"><link data-rh="true" rel="icon" href="/img/favicon.ico"><link data-rh="true" rel="canonical" href="https://calimero-network.github.io/0.5.0/tutorials/awesome-projects/building-with-icp"><link data-rh="true" rel="alternate" href="https://calimero-network.github.io/0.5.0/tutorials/awesome-projects/building-with-icp" hreflang="en"><link data-rh="true" rel="alternate" href="https://calimero-network.github.io/0.5.0/tutorials/awesome-projects/building-with-icp" hreflang="x-default"><link data-rh="true" rel="preconnect" href="https://W1H5P6IW4T-dsn.algolia.net" crossorigin="anonymous"><link rel="search" type="application/opensearchdescription+xml" title="Calimero Network" href="/opensearch.xml">


<script data-collect-dnt="true" src="https://scripts.simpleanalyticscdn.com/latest.js" async="async" defer="defer"></script><link rel="stylesheet" href="/assets/css/styles.d65c62bb.css">
<script src="/assets/js/runtime~main.c26b9a9d.js" defer="defer"></script>
<script src="/assets/js/main.4a30db06.js" defer="defer"></script>
</head>
<body class="navigation-with-keyboard">
<script>!function(){function t(t){document.documentElement.setAttribute("data-theme",t)}var e=function(){try{return new URLSearchParams(window.location.search).get("docusaurus-theme")}catch(t){}}()||function(){try{return window.localStorage.getItem("theme")}catch(t){}}();null!==e?t(e):window.matchMedia("(prefers-color-scheme: dark)").matches?t("dark"):window.matchMedia("(prefers-color-scheme: light)").matches?t("light"):t("dark")}(),function(){try{const c=new URLSearchParams(window.location.search).entries();for(var[t,e]of c)if(t.startsWith("docusaurus-data-")){var a=t.replace("docusaurus-data-","data-");document.documentElement.setAttribute(a,e)}}catch(t){}}()</script><div id="__docusaurus"><div role="region" aria-label="Skip to main content"><a class="skipToContent_akTV" href="#__docusaurus_skipToContent_fallback">Skip to main content</a></div><nav aria-label="Main" class="navbar navbar--fixed-top navbar--dark"><div class="navbar__inner"><div class="navbar__items"><button aria-label="Toggle navigation bar" aria-expanded="false" class="navbar__toggle clean-btn" type="button"><svg width="30" height="30" viewBox="0 0 30 30" aria-hidden="true"><path stroke="currentColor" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" d="M4 7h22M4 15h22M4 23h22"></path></svg></button><a class="navbar__brand" href="/"><div class="navbar__logo"><img src="/img/logo.svg" alt="Calimero Network" class="themedComponent_IeN5 themedComponent--light_m0Mz"><img src="/img/logo.svg" alt="Calimero Network" class="themedComponent_IeN5 themedComponent--dark_Gc1k"></div></a><a class="navbar__item navbar__link" href="/introduction/what-is-calimero">Introduction</a><a class="navbar__item navbar__link" href="/getting-started/setup">Getting Started</a></div><div class="navbar__items navbar__items--right"><div class="navbar__item dropdown dropdown--hoverable dropdown--right"><a href="#" aria-haspopup="true" aria-expanded="false" role="button" class="navbar__link">Other</a><ul class="dropdown__menu"><li><a class="dropdown__link" href="/core-concepts/terminology">Core Concepts</a></li><li><a class="dropdown__link" href="/architecture/system-overview">Architecture</a></li><li><a class="dropdown__link" href="/developer-tools/overview">Developer Tools</a></li><li><a class="dropdown__link" href="/tutorials/overview">Tutorials</a></li><li><a class="dropdown__link" href="/resources/manifesto">Resources</a></li><li><a class="dropdown__link" href="/throubleshooting/overview">Throubleshooting</a></li><li><a class="dropdown__link" href="/contributing/github">Contributing</a></li><li><a class="dropdown__link" href="/support/community-and-support">Support</a></li></ul></div><div class="navbarSearchContainer_a7RF"><button type="button" class="DocSearch DocSearch-Button" aria-label="Search (Command+K)"><span class="DocSearch-Button-Container"><svg width="20" height="20" class="DocSearch-Search-Icon" viewBox="0 0 20 20" aria-hidden="true"><path d="M14.386 14.386l4.0877 4.0877-4.0877-4.0877c-2.9418 2.9419-7.7115 2.9419-10.6533 0-2.9419-2.9418-2.9419-7.7115 0-10.6533 2.9418-2.9419 7.7115-2.9419 10.6533 0 2.9419 2.9418 2.9419 7.7115 0 10.6533z" stroke="currentColor" fill="none" fill-rule="evenodd" stroke-linecap="round" stroke-linejoin="round"></path></svg><span class="DocSearch-Button-Placeholder">Search</span></span><span class="DocSearch-Button-Keys"></span></button></div><div class="navbar__item dropdown dropdown--hoverable dropdown--right"><a class="navbar__link" aria-haspopup="true" aria-expanded="false" role="button" href="/0.5.0/tutorials/awesome-projects/building-with-icp">Stable (0.5.0)</a><ul class="dropdown__menu"><li><a class="dropdown__link" href="/tutorials/awesome-projects/building-with-icp">Next</a></li><li><a aria-current="page" class="dropdown__link dropdown__link--active" href="/0.5.0/tutorials/awesome-projects/building-with-icp">Stable (0.5.0)</a></li><li><a class="dropdown__link" href="/0.4.0/tutorials/awesome-projects/building-with-icp">Stable (0.4.0)</a></li><li><a class="dropdown__link" href="/0.3.0/tutorials/awesome-projects/building-with-icp">Legacy (0.3.1)</a></li></ul></div><a href="https://github.com/calimero-network/core" target="_blank" rel="noopener noreferrer" class="navbar__item navbar__link">GitHub<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_Vsus"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a><a href="https://www.calimero.network/" target="_blank" rel="noopener noreferrer" class="navbar__item navbar__link">Website<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_Vsus"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a><div class="toggle_ca35 colorModeToggle_GeAn"><button class="clean-btn toggleButton_uk6z toggleButtonDisabled_gqdx darkNavbarColorModeToggle_b2xH" type="button" disabled="" title="Switch between dark and light mode (currently dark mode)" aria-label="Switch between dark and light mode (currently dark mode)" aria-live="polite" aria-pressed="true"><svg viewBox="0 0 24 24" width="24" height="24" class="lightToggleIcon_wkg5"><path fill="currentColor" d="M12,9c1.65,0,3,1.35,3,3s-1.35,3-3,3s-3-1.35-3-3S10.35,9,12,9 M12,7c-2.76,0-5,2.24-5,5s2.24,5,5,5s5-2.24,5-5 S14.76,7,12,7L12,7z M2,13l2,0c0.55,0,1-0.45,1-1s-0.45-1-1-1l-2,0c-0.55,0-1,0.45-1,1S1.45,13,2,13z M20,13l2,0c0.55,0,1-0.45,1-1 s-0.45-1-1-1l-2,0c-0.55,0-1,0.45-1,1S19.45,13,20,13z M11,2v2c0,0.55,0.45,1,1,1s1-0.45,1-1V2c0-0.55-0.45-1-1-1S11,1.45,11,2z M11,20v2c0,0.55,0.45,1,1,1s1-0.45,1-1v-2c0-0.55-0.45-1-1-1C11.45,19,11,19.45,11,20z M5.99,4.58c-0.39-0.39-1.03-0.39-1.41,0 c-0.39,0.39-0.39,1.03,0,1.41l1.06,1.06c0.39,0.39,1.03,0.39,1.41,0s0.39-1.03,0-1.41L5.99,4.58z M18.36,16.95 c-0.39-0.39-1.03-0.39-1.41,0c-0.39,0.39-0.39,1.03,0,1.41l1.06,1.06c0.39,0.39,1.03,0.39,1.41,0c0.39-0.39,0.39-1.03,0-1.41 L18.36,16.95z M19.42,5.99c0.39-0.39,0.39-1.03,0-1.41c-0.39-0.39-1.03-0.39-1.41,0l-1.06,1.06c-0.39,0.39-0.39,1.03,0,1.41 s1.03,0.39,1.41,0L19.42,5.99z M7.05,18.36c0.39-0.39,0.39-1.03,0-1.41c-0.39-0.39-1.03-0.39-1.41,0l-1.06,1.06 c-0.39,0.39-0.39,1.03,0,1.41s1.03,0.39,1.41,0L7.05,18.36z"></path></svg><svg viewBox="0 0 24 24" width="24" height="24" class="darkToggleIcon_BplO"><path fill="currentColor" d="M9.37,5.51C9.19,6.15,9.1,6.82,9.1,7.5c0,4.08,3.32,7.4,7.4,7.4c0.68,0,1.35-0.09,1.99-0.27C17.45,17.19,14.93,19,12,19 c-3.86,0-7-3.14-7-7C5,9.07,6.81,6.55,9.37,5.51z M12,3c-4.97,0-9,4.03-9,9s4.03,9,9,9s9-4.03,9-9c0-0.46-0.04-0.92-0.1-1.36 c-0.98,1.37-2.58,2.26-4.4,2.26c-2.98,0-5.4-2.42-5.4-5.4c0-1.81,0.89-3.42,2.26-4.4C12.92,3.04,12.46,3,12,3L12,3z"></path></svg></button></div></div></div><div role="presentation" class="navbar-sidebar__backdrop"></div></nav><div id="__docusaurus_skipToContent_fallback" class="main-wrapper mainWrapper_jE2F"><div class="docsWrapper_Yfnw"><button aria-label="Scroll back to top" class="clean-btn theme-back-to-top-button backToTopButton_R2pg" type="button"></button><div class="docRoot_mQka"><aside class="theme-doc-sidebar-container docSidebarContainer_iAg4"><div class="sidebarViewport_UMO1"><div class="sidebar_fDzc"><nav aria-label="Docs sidebar" class="menu thin-scrollbar menu_O1iw"><ul class="theme-doc-sidebar-menu menu__list"><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" role="button" aria-expanded="false" href="/0.5.0/introduction/what-is-calimero">Introduction</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" role="button" aria-expanded="false" href="/0.5.0/getting-started/setup">Getting Started</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" role="button" aria-expanded="false" href="/0.5.0/core-concepts/terminology">Core Concepts</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" role="button" aria-expanded="false" href="/0.5.0/architecture/system-overview">Architecture</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" role="button" aria-expanded="false" href="/0.5.0/developer-tools/overview">Developer Tools</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret menu__link--active" role="button" aria-expanded="true" href="/0.5.0/tutorials/overview">Tutorials</a></div><ul style="display:block;overflow:visible;height:auto" class="menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/0.5.0/tutorials/overview">Overview</a></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" role="button" aria-expanded="false" tabindex="0" href="/0.5.0/tutorials/login-with-wallets/near-wallet">Login with Wallets</a></div></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/0.5.0/tutorials/create-context">Create Context</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/0.5.0/tutorials/invitations-and-joinings">Invitations and Joinings</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/0.5.0/tutorials/build-app">Key-Value Store tutorial</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/0.5.0/tutorials/publish-app">Publish App</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/0.5.0/tutorials/install-application">Install application</a></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret menu__link--active" role="button" aria-expanded="true" tabindex="0" href="/0.5.0/tutorials/awesome-projects/only-peers">Awesome Projects (DEMOs)</a></div><ul style="display:block;overflow:visible;height:auto" class="menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/0.5.0/tutorials/awesome-projects/only-peers">Only Peers</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/0.5.0/tutorials/awesome-projects/demo-blockchain-integration">Private DAO</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link menu__link--active" aria-current="page" tabindex="0" href="/0.5.0/tutorials/awesome-projects/building-with-icp">Building with Internet Computer (ICP)</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/0.5.0/tutorials/awesome-projects/building-with-stellar">Building with Stellar</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/0.5.0/tutorials/awesome-projects/building-with-ethereum">Building with Ethereum</a></li></ul></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/0.5.0/tutorials/proxy-contract-interaction">Blockchain interaction with Proxy Contract</a></li></ul></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" role="button" aria-expanded="false" href="/0.5.0/resources/manifesto">Resources</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" role="button" aria-expanded="false" href="/0.5.0/throubleshooting/overview">Throubleshooting</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" role="button" aria-expanded="false" href="/0.5.0/contributing/github">Contributing</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" role="button" aria-expanded="false" href="/0.5.0/support/community-and-support">Support</a></div></li></ul></nav><button type="button" title="Collapse sidebar" aria-label="Collapse sidebar" class="button button--secondary button--outline collapseSidebarButton_Hun6"><svg width="20" height="20" aria-hidden="true" class="collapseSidebarButtonIcon_oQN_"><g fill="#7a7a7a"><path d="M9.992 10.023c0 .2-.062.399-.172.547l-4.996 7.492a.982.982 0 01-.828.454H1c-.55 0-1-.453-1-1 0-.2.059-.403.168-.551l4.629-6.942L.168 3.078A.939.939 0 010 2.528c0-.548.45-.997 1-.997h2.996c.352 0 .649.18.828.45L9.82 9.472c.11.148.172.347.172.55zm0 0"></path><path d="M19.98 10.023c0 .2-.058.399-.168.547l-4.996 7.492a.987.987 0 01-.828.454h-3c-.547 0-.996-.453-.996-1 0-.2.059-.403.168-.551l4.625-6.942-4.625-6.945a.939.939 0 01-.168-.55 1 1 0 01.996-.997h3c.348 0 .649.18.828.45l4.996 7.492c.11.148.168.347.168.55zm0 0"></path></g></svg></button></div></div></aside><main class="docMainContainer_DeQS"><div class="container padding-top--md padding-bottom--lg"><div class="row"><div class="col docItemCol_sUdw"><div class="docItemContainer_HJMK"><article><nav class="theme-doc-breadcrumbs breadcrumbsContainer_EYnk" aria-label="Breadcrumbs"><ul class="breadcrumbs" itemscope="" itemtype="https://schema.org/BreadcrumbList"><li class="breadcrumbs__item"><a aria-label="Home page" class="breadcrumbs__link" href="/"><svg viewBox="0 0 24 24" class="breadcrumbHomeIcon_KmNN"><path d="M10 19v-5h4v5c0 .55.45 1 1 1h3c.55 0 1-.45 1-1v-7h1.7c.46 0 .68-.57.33-.87L12.67 3.6c-.38-.34-.96-.34-1.34 0l-8.36 7.53c-.34.3-.13.87.33.87H5v7c0 .55.45 1 1 1h3c.55 0 1-.45 1-1z" fill="currentColor"></path></svg></a></li><li class="breadcrumbs__item"><span class="breadcrumbs__link">Tutorials</span><meta itemprop="position" content="1"></li><li class="breadcrumbs__item"><span class="breadcrumbs__link">Awesome Projects (DEMOs)</span><meta itemprop="position" content="2"></li><li itemscope="" itemprop="itemListElement" itemtype="https://schema.org/ListItem" class="breadcrumbs__item breadcrumbs__item--active"><span class="breadcrumbs__link" itemprop="name">Building with Internet Computer (ICP)</span><meta itemprop="position" content="3"></li></ul></nav><div class="tocCollapsible_IZSt theme-doc-toc-mobile tocMobile_LPpj"><button type="button" class="clean-btn tocCollapsibleButton_UZc7">On this page</button></div><div class="theme-doc-markdown markdown"><header><h1>Building with Internet Computer (ICP)</h1></header>
<p>Step-by-Step Guide to Building an Application for Calimero with Internet
Computer (ICP)</p>
<p>This tutorial will cover the following topics:</p>
<ol>
<li>
<p><strong>Starting a Local Devnet</strong> - Setting and configuring a local devnet using
dfx through a script.</p>
</li>
<li>
<p><strong>Configuring Nodes</strong> - Setting and configuring nodes, installing demo
application, creating context and inviting nodes into the context.</p>
</li>
<li>
<p><strong>Installing a Blockchain Demo Application</strong> - Setup demo application that
contains all functionalities for interaction with smart contracts.</p>
</li>
<li>
<p><strong>Creating a Proposal</strong> - Creating a proposal to execute cross-contract call
to &quot;Greet&quot; smart contract deployed in step 3.</p>
</li>
</ol>
<div class="theme-admonition theme-admonition-note admonition_heLT alert alert--secondary"><div class="admonitionHeading_DpXe"><span class="admonitionIcon_SmZU"><svg viewBox="0 0 14 16"><path fill-rule="evenodd" d="M6.3 5.69a.942.942 0 0 1-.28-.7c0-.28.09-.52.28-.7.19-.18.42-.28.7-.28.28 0 .52.09.7.28.18.19.28.42.28.7 0 .28-.09.52-.28.7a1 1 0 0 1-.7.3c-.28 0-.52-.11-.7-.3zM8 7.99c-.02-.25-.11-.48-.31-.69-.2-.19-.42-.3-.69-.31H6c-.27.02-.48.13-.69.31-.2.2-.3.44-.31.69h1v3c.02.27.11.5.31.69.2.2.42.31.69.31h1c.27 0 .48-.11.69-.31.2-.19.3-.42.31-.69H8V7.98v.01zM7 2.3c-3.14 0-5.7 2.54-5.7 5.68 0 3.14 2.56 5.7 5.7 5.7s5.7-2.55 5.7-5.7c0-3.15-2.56-5.69-5.7-5.69v.01zM7 .98c3.86 0 7 3.14 7 7s-3.14 7-7 7-7-3.12-7-7 3.14-7 7-7z"></path></svg></span>note</div><div class="admonitionContent_V_Ml"><p>For easier guidance, we have named each terminal block by their purpose.</p></div></div>
<h2 class="anchor anchorWithStickyNavbar_PI6p" id="requirements">Requirements<a href="#requirements" class="hash-link" aria-label="Direct link to Requirements" title="Direct link to Requirements">​</a></h2>
<p>To follow this tutorial, you&#x27;ll need the following:</p>
<ul>
<li>Calimero ICP Devnet -
<a href="https://github.com/calimero-network/icp-devnet" target="_blank" rel="noopener noreferrer">Repository</a></li>
<li>Calimero Core - Installation instructions -
<a href="/getting-started/setup#installation">Instructions</a></li>
<li>Demo Blockchain Integrations -
<a href="https://github.com/calimero-network/demo-blockchain-integrations" target="_blank" rel="noopener noreferrer">Repository</a></li>
</ul>
<p>You also need following tools:</p>
<ul>
<li><strong>Cargo</strong>: Version <code>1.86.0-nightly</code> used for tutorial -
<a href="https://www.rust-lang.org/tools/install" target="_blank" rel="noopener noreferrer">url</a></li>
<li><strong>DFX</strong> (Dfinity SDK): Version <code>0.24.3</code> used for tutorial -
<a href="https://internetcomputer.org/docs/current/developer-docs/getting-started/install" target="_blank" rel="noopener noreferrer">url</a></li>
<li><strong>Candid Extractor</strong>: Version <code>0.1.5</code> used for tutorial -
<a href="https://crates.io/crates/candid-extractor" target="_blank" rel="noopener noreferrer">url</a></li>
<li><strong>Pnpm</strong>: Version <code>9.6.0</code> used for tutorial -
<a href="https://pnpm.io/installation" target="_blank" rel="noopener noreferrer">url</a></li>
</ul>
<h2 class="anchor anchorWithStickyNavbar_PI6p" id="configuring-a-local-devnet">Configuring a Local Devnet<a href="#configuring-a-local-devnet" class="hash-link" aria-label="Direct link to Configuring a Local Devnet" title="Direct link to Configuring a Local Devnet">​</a></h2>
<p>We have prepared a script that will deploy the contracts and create needed
accounts on local environment. The script does the following:</p>
<ul>
<li>Creates accounts needed for ledger deployment.</li>
<li>Deploys the context, ledger and example external contract.</li>
<li>Funds the deployed context contract for initial usage.</li>
<li>Calls required initial methods on deployed contracts.</li>
</ul>
<p>Scripts are located in Calimero ICP Devnet repository. First clone the
<a href="https://github.com/calimero-network/icp-devnet" target="_blank" rel="noopener noreferrer">repository</a>.</p>
<div class="language-bash codeBlockContainer_dWMi theme-code-block" style="--prism-color:#F8F8F2;--prism-background-color:#282A36"><div class="codeBlockTitle_Chiz">ICP Setup Terminal</div><div class="codeBlockContent_ix1M"><pre tabindex="0" class="prism-code language-bash codeBlock_AJJ2 thin-scrollbar" style="color:#F8F8F2;background-color:#282A36"><code class="codeBlockLines_X8Ab"><span class="token-line" style="color:#F8F8F2"><span class="token function" style="color:rgb(80, 250, 123)">git</span><span class="token plain"> clone https://github.com/calimero-network/icp-devnet</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"></span><span class="token builtin class-name" style="color:rgb(189, 147, 249)">cd</span><span class="token plain"> icp-devnet</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"></span><span class="token function" style="color:rgb(80, 250, 123)">chmod</span><span class="token plain"> +x ./deploy_devnet_addon.sh</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span></code></pre><div class="buttonGroup_Mh22"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_sRhz" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_adwT"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_7h2Z"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p>The repository contains two scripts:</p>
<div class="tabs-container tabList_z352"><ul role="tablist" aria-orientation="horizontal" class="tabs"><li role="tab" tabindex="0" aria-selected="true" class="tabs__item tabItem_du3W tabs__item--active">Create new dfx environment</li><li role="tab" tabindex="-1" aria-selected="false" class="tabs__item tabItem_du3W">Install on existing dfx environment</li></ul><div class="margin-top--md"><div role="tabpanel" class="tabItem_mmy8"><p><code>deploy_devnet_fresh.sh</code> - Starts fresh dfx environment and deploys the contracts and needed accounts.</p><div class="theme-admonition theme-admonition-caution admonition_heLT alert alert--warning"><div class="admonitionHeading_DpXe"><span class="admonitionIcon_SmZU"><svg viewBox="0 0 16 16"><path fill-rule="evenodd" d="M8.893 1.5c-.183-.31-.52-.5-.887-.5s-.703.19-.886.5L.138 13.499a.98.98 0 0 0 0 1.001c.193.31.53.501.886.501h13.964c.367 0 .704-.19.877-.5a1.03 1.03 0 0 0 .01-1.002L8.893 1.5zm.133 11.497H6.987v-2.003h2.039v2.003zm0-3.004H6.987V5.987h2.039v4.006z"></path></svg></span>caution</div><div class="admonitionContent_V_Ml"><p>This script will delete the current dfx environment and create a new one.</p></div></div></div><div role="tabpanel" class="tabItem_mmy8" hidden=""><p><code>deploy_devnet_addon.sh</code> - Deploys the contracts and creates needed account on already existing dfx environment.</p><div class="theme-admonition theme-admonition-note admonition_heLT alert alert--secondary"><div class="admonitionHeading_DpXe"><span class="admonitionIcon_SmZU"><svg viewBox="0 0 14 16"><path fill-rule="evenodd" d="M6.3 5.69a.942.942 0 0 1-.28-.7c0-.28.09-.52.28-.7.19-.18.42-.28.7-.28.28 0 .52.09.7.28.18.19.28.42.28.7 0 .28-.09.52-.28.7a1 1 0 0 1-.7.3c-.28 0-.52-.11-.7-.3zM8 7.99c-.02-.25-.11-.48-.31-.69-.2-.19-.42-.3-.69-.31H6c-.27.02-.48.13-.69.31-.2.2-.3.44-.31.69h1v3c.02.27.11.5.31.69.2.2.42.31.69.31h1c.27 0 .48-.11.69-.31.2-.19.3-.42.31-.69H8V7.98v.01zM7 2.3c-3.14 0-5.7 2.54-5.7 5.68 0 3.14 2.56 5.7 5.7 5.7s5.7-2.55 5.7-5.7c0-3.15-2.56-5.69-5.7-5.69v.01zM7 .98c3.86 0 7 3.14 7 7s-3.14 7-7 7-7-3.12-7-7 3.14-7 7-7z"></path></svg></span>note</div><div class="admonitionContent_V_Ml"><p>dfx environment needs to be started before running this script.</p></div></div></div></div></div>
<p>For this tutorial we will be using <code>deploy_devnet_fresh.sh</code> script.</p>
<div class="language-bash codeBlockContainer_dWMi theme-code-block" style="--prism-color:#F8F8F2;--prism-background-color:#282A36"><div class="codeBlockTitle_Chiz">ICP Setup Terminal</div><div class="codeBlockContent_ix1M"><pre tabindex="0" class="prism-code language-bash codeBlock_AJJ2 thin-scrollbar" style="color:#F8F8F2;background-color:#282A36"><code class="codeBlockLines_X8Ab"><span class="token-line" style="color:#F8F8F2"><span class="token plain">./deploy_devnet_fresh.sh</span><br></span></code></pre><div class="buttonGroup_Mh22"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_sRhz" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_adwT"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_7h2Z"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<div class="language-bash codeBlockContainer_dWMi theme-code-block" style="--prism-color:#F8F8F2;--prism-background-color:#282A36"><div class="codeBlockTitle_Chiz">ICP Setup Terminal | Output of successful deployment</div><div class="codeBlockContent_ix1M"><pre tabindex="0" class="prism-code language-bash codeBlock_AJJ2 thin-scrollbar" style="color:#F8F8F2;background-color:#282A36"><code class="codeBlockLines_X8Ab"><span class="token-line" style="color:#F8F8F2"><span class="token operator">==</span><span class="token operator">=</span><span class="token plain"> Deployment Summary </span><span class="token operator">==</span><span class="token operator">=</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">Context Contract ID: bkyz2-fmaaa-aaaaa-qaaaq-cai</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">Ledger Contract ID: bd3sg-teaaa-aaaaa-qaaba-cai</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">Demo External Contract ID: be2us-64aaa-aaaaa-qaabq-cai</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">Account Information:</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">Minting Account: 8b768d662eeebfcbe55b180a7ac0ccb46e2ccd59cacd0b4ec3404f0c8d8b8086</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">Initial Account: 670183527b941adeae9e1552525853af7812d9441758c668b2e3b8553dead7a0</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">Archive Principal: kbwrg-ggsyr-4zl47-3z7by-owf4g-draak-xj2ni-mcvwv-6wqxc-nkjam-gae</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">Recipient Principal: mfefj-dsyoh-rb3b2-3yagk-rvb2p-wcb2v-fhu2n-fel2f-wqzjn-yhtxx-hqe</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">Deployment completed successfully</span><span class="token operator">!</span><br></span></code></pre><div class="buttonGroup_Mh22"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_sRhz" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_adwT"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_7h2Z"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<div class="theme-admonition theme-admonition-note admonition_heLT alert alert--secondary"><div class="admonitionHeading_DpXe"><span class="admonitionIcon_SmZU"><svg viewBox="0 0 14 16"><path fill-rule="evenodd" d="M6.3 5.69a.942.942 0 0 1-.28-.7c0-.28.09-.52.28-.7.19-.18.42-.28.7-.28.28 0 .52.09.7.28.18.19.28.42.28.7 0 .28-.09.52-.28.7a1 1 0 0 1-.7.3c-.28 0-.52-.11-.7-.3zM8 7.99c-.02-.25-.11-.48-.31-.69-.2-.19-.42-.3-.69-.31H6c-.27.02-.48.13-.69.31-.2.2-.3.44-.31.69h1v3c.02.27.11.5.31.69.2.2.42.31.69.31h1c.27 0 .48-.11.69-.31.2-.19.3-.42.31-.69H8V7.98v.01zM7 2.3c-3.14 0-5.7 2.54-5.7 5.68 0 3.14 2.56 5.7 5.7 5.7s5.7-2.55 5.7-5.7c0-3.15-2.56-5.69-5.7-5.69v.01zM7 .98c3.86 0 7 3.14 7 7s-3.14 7-7 7-7-3.12-7-7 3.14-7 7-7z"></path></svg></span>note</div><div class="admonitionContent_V_Ml"><p>Leave this terminal open as you will need values in later steps.</p></div></div>
<h2 class="anchor anchorWithStickyNavbar_PI6p" id="context-and-proxy-contract">Context and Proxy Contract<a href="#context-and-proxy-contract" class="hash-link" aria-label="Direct link to Context and Proxy Contract" title="Direct link to Context and Proxy Contract">​</a></h2>
<h3 class="anchor anchorWithStickyNavbar_PI6p" id="context-contract">Context contract<a href="#context-contract" class="hash-link" aria-label="Direct link to Context contract" title="Direct link to Context contract">​</a></h3>
<p>Calimero context contract is used to create and manage contexts and their
members.</p>
<lb></lb>
<p>More information about context contract can be found
<a href="/core-concepts/blockchains-integration#context-contract">here</a>. To see the
context contract implementation, refer to the
<a href="https://github.com/calimero-network/core/tree/master/contracts/icp/context-config" target="_blank" rel="noopener noreferrer">calimero-network/core</a>
repository.</p>
<h3 class="anchor anchorWithStickyNavbar_PI6p" id="proxy-contract">Proxy contract<a href="#proxy-contract" class="hash-link" aria-label="Direct link to Proxy contract" title="Direct link to Proxy contract">​</a></h3>
<p>Proxy contract is used to handle blockchain operations such as cross-contract
calls and trasnfers as well as storing variables.</p>
<lb></lb>
<p>More information about proxy contract can be found
<a href="/core-concepts/blockchains-integration#functionality-details">here</a>. To see the
proxy contract implementation, refer to the
<a href="https://github.com/calimero-network/core/tree/master/contracts/icp/context-proxy" target="_blank" rel="noopener noreferrer">calimero-network/core</a>
repository. ## Setting up and configuring nodes</p>
<div class="theme-admonition theme-admonition-info admonition_heLT alert alert--info"><div class="admonitionHeading_DpXe"><span class="admonitionIcon_SmZU"><svg viewBox="0 0 14 16"><path fill-rule="evenodd" d="M7 2.3c3.14 0 5.7 2.56 5.7 5.7s-2.56 5.7-5.7 5.7A5.71 5.71 0 0 1 1.3 8c0-3.14 2.56-5.7 5.7-5.7zM7 1C3.14 1 0 4.14 0 8s3.14 7 7 7 7-3.14 7-7-3.14-7-7-7zm1 3H6v5h2V4zm0 6H6v2h2v-2z"></path></svg></span>info</div><div class="admonitionContent_V_Ml"><p>By deafult proposal needs 3 approvals before it is executed so we will setup 3
nodes.</p></div></div>
<ul>
<li>Initialize and start 3 nodes</li>
<li>Install
<a href="https://github.com/calimero-network/demo-blockchain-integrations/tree/master/logic" target="_blank" rel="noopener noreferrer">blockchain demo application</a></li>
<li>Create context for blockchain demo application</li>
<li>Invite all nodes in the same context</li>
</ul>
<h4 class="anchor anchorWithStickyNavbar_PI6p" id="initialize-and-start-nodes">Initialize and Start Nodes<a href="#initialize-and-start-nodes" class="hash-link" aria-label="Direct link to Initialize and Start Nodes" title="Direct link to Initialize and Start Nodes">​</a></h4>
<p>Open 3 terminals side by side.</p>
<div class="language-bash codeBlockContainer_dWMi theme-code-block" style="--prism-color:#F8F8F2;--prism-background-color:#282A36"><div class="codeBlockTitle_Chiz">Node1 Terminal</div><div class="codeBlockContent_ix1M"><pre tabindex="0" class="prism-code language-bash codeBlock_AJJ2 thin-scrollbar" style="color:#F8F8F2;background-color:#282A36"><code class="codeBlockLines_X8Ab"><span class="token-line" style="color:#F8F8F2"><span class="token plain">merod --node-name node1 init --server-port </span><span class="token number">2427</span><span class="token plain"> --swarm-port </span><span class="token number">2527</span><br></span></code></pre><div class="buttonGroup_Mh22"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_sRhz" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_adwT"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_7h2Z"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<div class="language-bash codeBlockContainer_dWMi theme-code-block" style="--prism-color:#F8F8F2;--prism-background-color:#282A36"><div class="codeBlockTitle_Chiz">Node2 Terminal</div><div class="codeBlockContent_ix1M"><pre tabindex="0" class="prism-code language-bash codeBlock_AJJ2 thin-scrollbar" style="color:#F8F8F2;background-color:#282A36"><code class="codeBlockLines_X8Ab"><span class="token-line" style="color:#F8F8F2"><span class="token plain">merod --node-name node2 init --server-port </span><span class="token number">2428</span><span class="token plain"> --swarm-port </span><span class="token number">2528</span><br></span></code></pre><div class="buttonGroup_Mh22"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_sRhz" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_adwT"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_7h2Z"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<div class="language-bash codeBlockContainer_dWMi theme-code-block" style="--prism-color:#F8F8F2;--prism-background-color:#282A36"><div class="codeBlockTitle_Chiz">Node3 Terminal</div><div class="codeBlockContent_ix1M"><pre tabindex="0" class="prism-code language-bash codeBlock_AJJ2 thin-scrollbar" style="color:#F8F8F2;background-color:#282A36"><code class="codeBlockLines_X8Ab"><span class="token-line" style="color:#F8F8F2"><span class="token plain">merod --node-name node3 init --server-port </span><span class="token number">2429</span><span class="token plain"> --swarm-port </span><span class="token number">2529</span><br></span></code></pre><div class="buttonGroup_Mh22"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_sRhz" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_adwT"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_7h2Z"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p>The output should look like this:</p>
<img src="/icp-tutorial/12_init_cali_nodes.png" alt="init-nodes">
<p>You can verify nodes initialization files by looking into <code>~/.calimero</code> folder.</p>
<p>More on node initialization can be found <a href="/getting-started/setup/">here</a>.</p>
<p>Now we are going to start the nodes with the commands:</p>
<div class="language-bash codeBlockContainer_dWMi theme-code-block" style="--prism-color:#F8F8F2;--prism-background-color:#282A36"><div class="codeBlockTitle_Chiz">Node1 Terminal</div><div class="codeBlockContent_ix1M"><pre tabindex="0" class="prism-code language-bash codeBlock_AJJ2 thin-scrollbar" style="color:#F8F8F2;background-color:#282A36"><code class="codeBlockLines_X8Ab"><span class="token-line" style="color:#F8F8F2"><span class="token plain">merod --node-name node1 run</span><br></span></code></pre><div class="buttonGroup_Mh22"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_sRhz" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_adwT"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_7h2Z"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<div class="language-bash codeBlockContainer_dWMi theme-code-block" style="--prism-color:#F8F8F2;--prism-background-color:#282A36"><div class="codeBlockTitle_Chiz">Node2 Terminal</div><div class="codeBlockContent_ix1M"><pre tabindex="0" class="prism-code language-bash codeBlock_AJJ2 thin-scrollbar" style="color:#F8F8F2;background-color:#282A36"><code class="codeBlockLines_X8Ab"><span class="token-line" style="color:#F8F8F2"><span class="token plain">merod --node-name node2 run</span><br></span></code></pre><div class="buttonGroup_Mh22"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_sRhz" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_adwT"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_7h2Z"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<div class="language-bash codeBlockContainer_dWMi theme-code-block" style="--prism-color:#F8F8F2;--prism-background-color:#282A36"><div class="codeBlockTitle_Chiz">Node3 Terminal</div><div class="codeBlockContent_ix1M"><pre tabindex="0" class="prism-code language-bash codeBlock_AJJ2 thin-scrollbar" style="color:#F8F8F2;background-color:#282A36"><code class="codeBlockLines_X8Ab"><span class="token-line" style="color:#F8F8F2"><span class="token plain">merod --node-name node3 run</span><br></span></code></pre><div class="buttonGroup_Mh22"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_sRhz" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_adwT"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_7h2Z"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p>After running the nodes you should see the similar to this one:</p>
<img src="/icp-tutorial/14_start_cali_nodes.png" alt="running-nodes">
<h4 class="anchor anchorWithStickyNavbar_PI6p" id="install-application">Install application<a href="#install-application" class="hash-link" aria-label="Direct link to Install application" title="Direct link to Install application">​</a></h4>
<p>Inside the node1 terminal we are going to install blockchain demo application.</p>
<ol>
<li>Clone the
<a href="https://github.com/calimero-network/demo-blockchain-integrations" target="_blank" rel="noopener noreferrer">Demo Blockchain Integrations</a>
repository.</li>
<li>Navigate to the <code>logic</code> directory.</li>
<li>Build the application using the <code>build.sh</code> script, script will compile wasm
file in /res directory.</li>
<li>Copy the <code>blockchain.wasm</code> file path</li>
</ol>
<p>Applications are installed with the following command:</p>
<div class="language-bash codeBlockContainer_dWMi theme-code-block" style="--prism-color:#F8F8F2;--prism-background-color:#282A36"><div class="codeBlockTitle_Chiz">Node1 Terminal</div><div class="codeBlockContent_ix1M"><pre tabindex="0" class="prism-code language-bash codeBlock_AJJ2 thin-scrollbar" style="color:#F8F8F2;background-color:#282A36"><code class="codeBlockLines_X8Ab"><span class="token-line" style="color:#F8F8F2"><span class="token plain">application </span><span class="token function" style="color:rgb(80, 250, 123)">install</span><span class="token plain"> </span><span class="token function" style="color:rgb(80, 250, 123)">file</span><span class="token plain"> </span><span class="token operator">&lt;</span><span class="token plain">PATH_TO_blockchain.wasm_FILE</span><span class="token operator">&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"></span><span class="token operator">&gt;</span><span class="token plain">Installed application: </span><span class="token operator">&lt;</span><span class="token plain">APPLICATION_ID</span><span class="token operator">&gt;</span><br></span></code></pre><div class="buttonGroup_Mh22"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_sRhz" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_adwT"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_7h2Z"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p>After installing the application we can create context:</p>
<div class="language-bash codeBlockContainer_dWMi theme-code-block" style="--prism-color:#F8F8F2;--prism-background-color:#282A36"><div class="codeBlockTitle_Chiz">Node1 Terminal</div><div class="codeBlockContent_ix1M"><pre tabindex="0" class="prism-code language-bash codeBlock_AJJ2 thin-scrollbar" style="color:#F8F8F2;background-color:#282A36"><code class="codeBlockLines_X8Ab"><span class="token-line" style="color:#F8F8F2"><span class="token plain">context create </span><span class="token operator">&lt;</span><span class="token plain">APPLICATION_ID</span><span class="token operator">&gt;</span><span class="token plain"> </span><span class="token parameter variable" style="color:rgb(189, 147, 249);font-style:italic">--protocol</span><span class="token plain"> icp</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"></span><span class="token operator">&gt;</span><span class="token plain">Created context </span><span class="token operator">&lt;</span><span class="token plain">CONTEXT_ID</span><span class="token operator">&gt;</span><span class="token plain"> with identity </span><span class="token operator">&lt;</span><span class="token plain">CONTEXT_IDENTITY</span><span class="token operator">&gt;</span><br></span></code></pre><div class="buttonGroup_Mh22"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_sRhz" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_adwT"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_7h2Z"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p>After creating context we need to add node2 and node3 to it.</p>
<p><br> To be able to do that we need to create identities for node2 and node3
with whom they will join to the created context.</p>
<div class="language-bash codeBlockContainer_dWMi theme-code-block" style="--prism-color:#F8F8F2;--prism-background-color:#282A36"><div class="codeBlockTitle_Chiz">Node2 Terminal</div><div class="codeBlockContent_ix1M"><pre tabindex="0" class="prism-code language-bash codeBlock_AJJ2 thin-scrollbar" style="color:#F8F8F2;background-color:#282A36"><code class="codeBlockLines_X8Ab"><span class="token-line" style="color:#F8F8F2"><span class="token plain">identity new</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"></span><span class="token operator">&gt;&gt;</span><span class="token plain"> Private key: </span><span class="token operator">&lt;</span><span class="token plain">PRIVATE_KEY</span><span class="token operator">&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"></span><span class="token operator">&gt;&gt;</span><span class="token plain"> Public key: </span><span class="token operator">&lt;</span><span class="token plain">PUBLIC_KEY</span><span class="token operator">&gt;</span><br></span></code></pre><div class="buttonGroup_Mh22"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_sRhz" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_adwT"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_7h2Z"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<div class="language-bash codeBlockContainer_dWMi theme-code-block" style="--prism-color:#F8F8F2;--prism-background-color:#282A36"><div class="codeBlockTitle_Chiz">Node3 Terminal</div><div class="codeBlockContent_ix1M"><pre tabindex="0" class="prism-code language-bash codeBlock_AJJ2 thin-scrollbar" style="color:#F8F8F2;background-color:#282A36"><code class="codeBlockLines_X8Ab"><span class="token-line" style="color:#F8F8F2"><span class="token plain">identity new</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"></span><span class="token operator">&gt;&gt;</span><span class="token plain"> Private key: </span><span class="token operator">&lt;</span><span class="token plain">PRIVATE_KEY</span><span class="token operator">&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"></span><span class="token operator">&gt;&gt;</span><span class="token plain"> Public key: </span><span class="token operator">&lt;</span><span class="token plain">PUBLIC_KEY</span><span class="token operator">&gt;</span><br></span></code></pre><div class="buttonGroup_Mh22"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_sRhz" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_adwT"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_7h2Z"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p>The output should look like this:</p>
<img src="/icp-tutorial/16_create_new_identity.png" alt="create-identity">
<p>After creating identities we can invite node2 and node3 to join the created
context.</p>
<div class="language-bash codeBlockContainer_dWMi theme-code-block" style="--prism-color:#F8F8F2;--prism-background-color:#282A36"><div class="codeBlockTitle_Chiz">Node1 Terminal</div><div class="codeBlockContent_ix1M"><pre tabindex="0" class="prism-code language-bash codeBlock_AJJ2 thin-scrollbar" style="color:#F8F8F2;background-color:#282A36"><code class="codeBlockLines_X8Ab"><span class="token-line" style="color:#F8F8F2"><span class="token plain">context invite </span><span class="token operator">&lt;</span><span class="token plain">CONTEXT_ID</span><span class="token operator">&gt;</span><span class="token plain"> </span><span class="token operator">&lt;</span><span class="token plain">PUBLIC_KEY_OF_NODE</span><span class="token operator file-descriptor important">2</span><span class="token operator">&gt;</span><span class="token plain"> </span><span class="token parameter variable" style="color:rgb(189, 147, 249);font-style:italic">--as</span><span class="token plain"> </span><span class="token operator">&lt;</span><span class="token plain">CONTEXT_IDENTITY</span><span class="token operator">&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"></span><span class="token operator">&gt;&gt;</span><span class="token plain"> Invitation payload: </span><span class="token operator">&lt;</span><span class="token plain">INVITATION_PAYLOAD</span><span class="token operator">&gt;</span><br></span></code></pre><div class="buttonGroup_Mh22"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_sRhz" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_adwT"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_7h2Z"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p>This will generate a invitation payload which can node2 use to join the context.
Copy the invitation payload and do the following command in node2 terminal:</p>
<div class="language-bash codeBlockContainer_dWMi theme-code-block" style="--prism-color:#F8F8F2;--prism-background-color:#282A36"><div class="codeBlockTitle_Chiz">Node2 Terminal</div><div class="codeBlockContent_ix1M"><pre tabindex="0" class="prism-code language-bash codeBlock_AJJ2 thin-scrollbar" style="color:#F8F8F2;background-color:#282A36"><code class="codeBlockLines_X8Ab"><span class="token-line" style="color:#F8F8F2"><span class="token plain">context </span><span class="token function" style="color:rgb(80, 250, 123)">join</span><span class="token plain"> </span><span class="token operator">&lt;</span><span class="token plain">PRIVATE_KEY_OF_NODE</span><span class="token operator file-descriptor important">2</span><span class="token operator">&gt;</span><span class="token plain"> </span><span class="token operator">&lt;</span><span class="token plain">INVITATION_PAYLOAD</span><span class="token operator">&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"></span><span class="token operator">&gt;&gt;</span><span class="token plain"> Joined context </span><span class="token operator">&lt;</span><span class="token plain">CONTEXT_ID</span><span class="token operator">&gt;</span><br></span></code></pre><div class="buttonGroup_Mh22"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_sRhz" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_adwT"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_7h2Z"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p>Repeat the same steps for Node3.</p>
<div class="language-bash codeBlockContainer_dWMi theme-code-block" style="--prism-color:#F8F8F2;--prism-background-color:#282A36"><div class="codeBlockTitle_Chiz">Node1 Terminal</div><div class="codeBlockContent_ix1M"><pre tabindex="0" class="prism-code language-bash codeBlock_AJJ2 thin-scrollbar" style="color:#F8F8F2;background-color:#282A36"><code class="codeBlockLines_X8Ab"><span class="token-line" style="color:#F8F8F2"><span class="token plain">context invite </span><span class="token operator">&lt;</span><span class="token plain">CONTEXT_ID</span><span class="token operator">&gt;</span><span class="token plain"> </span><span class="token operator">&lt;</span><span class="token plain">PUBLIC_KEY_OF_NODE</span><span class="token operator file-descriptor important">3</span><span class="token operator">&gt;</span><span class="token plain"> </span><span class="token parameter variable" style="color:rgb(189, 147, 249);font-style:italic">--as</span><span class="token plain"> </span><span class="token operator">&lt;</span><span class="token plain">CONTEXT_IDENTITY</span><span class="token operator">&gt;</span><br></span></code></pre><div class="buttonGroup_Mh22"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_sRhz" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_adwT"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_7h2Z"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<div class="language-bash codeBlockContainer_dWMi theme-code-block" style="--prism-color:#F8F8F2;--prism-background-color:#282A36"><div class="codeBlockTitle_Chiz">Node3 Terminal</div><div class="codeBlockContent_ix1M"><pre tabindex="0" class="prism-code language-bash codeBlock_AJJ2 thin-scrollbar" style="color:#F8F8F2;background-color:#282A36"><code class="codeBlockLines_X8Ab"><span class="token-line" style="color:#F8F8F2"><span class="token plain">context </span><span class="token function" style="color:rgb(80, 250, 123)">join</span><span class="token plain"> </span><span class="token operator">&lt;</span><span class="token plain">PRIVATE_KEY_OF_NODE</span><span class="token operator file-descriptor important">3</span><span class="token operator">&gt;</span><span class="token plain"> </span><span class="token operator">&lt;</span><span class="token plain">INVITATION_PAYLOAD</span><span class="token operator">&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"></span><span class="token operator">&gt;&gt;</span><span class="token plain"> Joined context </span><span class="token operator">&lt;</span><span class="token plain">CONTEXT_ID</span><span class="token operator">&gt;</span><br></span></code></pre><div class="buttonGroup_Mh22"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_sRhz" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_adwT"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_7h2Z"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p>The output in terminal after inviting and joining nodes should look like this:</p>
<img src="/icp-tutorial/16_invite_nodes.png" alt="join-context">
<br>
<p>More on invitations and joining the context can be found
<a href="https://calimero-network.github.io/tutorials/invitations-and-joinings" target="_blank" rel="noopener noreferrer">here</a></p>
<p>Lastly we can check if all nodes are connected in context with:</p>
<div class="language-bash codeBlockContainer_dWMi theme-code-block" style="--prism-color:#F8F8F2;--prism-background-color:#282A36"><div class="codeBlockTitle_Chiz">Node1 Terminal</div><div class="codeBlockContent_ix1M"><pre tabindex="0" class="prism-code language-bash codeBlock_AJJ2 thin-scrollbar" style="color:#F8F8F2;background-color:#282A36"><code class="codeBlockLines_X8Ab"><span class="token-line" style="color:#F8F8F2"><span class="token plain">context </span><span class="token function" style="color:rgb(80, 250, 123)">ls</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"></span><span class="token operator">&gt;</span><span class="token plain"> </span><span class="token operator">&lt;</span><span class="token plain">CONTEXT_ID</span><span class="token operator">&gt;</span><br></span></code></pre><div class="buttonGroup_Mh22"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_sRhz" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_adwT"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_7h2Z"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<div class="language-bash codeBlockContainer_dWMi theme-code-block" style="--prism-color:#F8F8F2;--prism-background-color:#282A36"><div class="codeBlockTitle_Chiz">Node1 Terminal</div><div class="codeBlockContent_ix1M"><pre tabindex="0" class="prism-code language-bash codeBlock_AJJ2 thin-scrollbar" style="color:#F8F8F2;background-color:#282A36"><code class="codeBlockLines_X8Ab"><span class="token-line" style="color:#F8F8F2"><span class="token plain">identity </span><span class="token function" style="color:rgb(80, 250, 123)">ls</span><span class="token plain"> </span><span class="token operator">&lt;</span><span class="token plain">CONTEXT_ID</span><span class="token operator">&gt;</span><br></span></code></pre><div class="buttonGroup_Mh22"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_sRhz" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_adwT"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_7h2Z"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<img src="/icp-tutorial/18_verify_context.png" alt="context-members">
<p>We can see there are 3 nodes connected in context.</p>
<h4 class="anchor anchorWithStickyNavbar_PI6p" id="fund-proxy-contract">Fund Proxy Contract<a href="#fund-proxy-contract" class="hash-link" aria-label="Direct link to Fund Proxy Contract" title="Direct link to Fund Proxy Contract">​</a></h4>
<p>We have now installed the application and created context. To be able to fully
use proxy contract we need to fund it. To get proxy contract address we need to
use API GET call to retrieve it from the node.</p>
<p>The 3 running nodes are located on:</p>
<ul>
<li><a href="https://localhost:2427" target="_blank" rel="noopener noreferrer">https://localhost:2427</a></li>
<li><a href="https://localhost:2428" target="_blank" rel="noopener noreferrer">https://localhost:2428</a></li>
<li><a href="https://localhost:2429" target="_blank" rel="noopener noreferrer">https://localhost:2429</a>.</li>
</ul>
<p>Any of them can be queried to get the value of proxy contract id.</p>
<p>API endpoint to fetch proxy contract id is:
<code>http://localhost:2428/admin-api/contexts/CONTEXT_ID/proxy-contract</code></p>
<blockquote>
<p>CONTEXT_ID can be copied from previous steps</p>
</blockquote>
<p>And for our case it is:
<code>http://localhost:2428/admin-api/contexts/7krojDziAKRWP8KrUD8aYGL3z5peScNxPXaBWTKCFr2h/proxy-contract</code></p>
<p>Example of request in postman:</p>
<img src="/icp-tutorial/19_get_proxy_contract.png" alt="context-members">
<p>With proxy contract id we can now fund it using dfx native commands. Reopen the
terminal you used to execute devnet deployment script and do the following
commands:</p>
<p>Switch to initial identity.</p>
<div class="language-bash codeBlockContainer_dWMi theme-code-block" style="--prism-color:#F8F8F2;--prism-background-color:#282A36"><div class="codeBlockTitle_Chiz">ICP Setup Terminal Terminal</div><div class="codeBlockContent_ix1M"><pre tabindex="0" class="prism-code language-bash codeBlock_AJJ2 thin-scrollbar" style="color:#F8F8F2;background-color:#282A36"><code class="codeBlockLines_X8Ab"><span class="token-line" style="color:#F8F8F2"><span class="token plain">dfx identity use initial</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"></span><span class="token operator">&gt;</span><span class="token plain">Using identity: </span><span class="token string" style="color:rgb(255, 121, 198)">&quot;initial&quot;</span><span class="token builtin class-name" style="color:rgb(189, 147, 249)">.</span><br></span></code></pre><div class="buttonGroup_Mh22"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_sRhz" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_adwT"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_7h2Z"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p>To fund the contract we are going to use command:</p>
<div class="language-bash codeBlockContainer_dWMi theme-code-block" style="--prism-color:#F8F8F2;--prism-background-color:#282A36"><div class="codeBlockContent_ix1M"><pre tabindex="0" class="prism-code language-bash codeBlock_AJJ2 thin-scrollbar" style="color:#F8F8F2;background-color:#282A36"><code class="codeBlockLines_X8Ab"><span class="token-line" style="color:#F8F8F2"><span class="token plain">dfx canister call </span><span class="token operator">&lt;</span><span class="token plain">LEDGER_CONTRACT_ID</span><span class="token operator">&gt;</span><span class="token plain"> icrc1_transfer </span><span class="token string" style="color:rgb(255, 121, 198)">&#x27;(</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token string" style="color:rgb(255, 121, 198)">  record {</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token string" style="color:rgb(255, 121, 198)">    to = record {</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token string" style="color:rgb(255, 121, 198)">      owner = principal &quot;&lt;PROXY_CONTRACT_ID&gt;&quot;;</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token string" style="color:rgb(255, 121, 198)">      subaccount = null;</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token string" style="color:rgb(255, 121, 198)">    };</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token string" style="color:rgb(255, 121, 198)">    amount = 1_000_000_000;</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token string" style="color:rgb(255, 121, 198)">    fee = null;</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token string" style="color:rgb(255, 121, 198)">    memo = null;</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token string" style="color:rgb(255, 121, 198)">    from_subaccount = null;</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token string" style="color:rgb(255, 121, 198)">    created_at_time = null;</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token string" style="color:rgb(255, 121, 198)">  }</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token string" style="color:rgb(255, 121, 198)">)&#x27;</span><br></span></code></pre><div class="buttonGroup_Mh22"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_sRhz" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_adwT"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_7h2Z"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<blockquote>
<p>LEDGER_CONTRACT_ID - this value can be viewed when ./deploy_devnet.sh script
finishes.</p>
<p><br> In our case value its: <code>bd3sg-teaaa-aaaaa-qaaba-cai</code></p>
<p>PROXY_CONTRACT_ID - value we got in previous step.</p>
<p><br> In our case value its: <code>b77ix-eeaaa-aaaaa-qaada-cai</code></p>
</blockquote>
<div class="language-bash codeBlockContainer_dWMi theme-code-block" style="--prism-color:#F8F8F2;--prism-background-color:#282A36"><div class="codeBlockTitle_Chiz">ICP Setup Terminal Terminal</div><div class="codeBlockContent_ix1M"><pre tabindex="0" class="prism-code language-bash codeBlock_AJJ2 thin-scrollbar" style="color:#F8F8F2;background-color:#282A36"><code class="codeBlockLines_X8Ab"><span class="token-line" style="color:#F8F8F2"><span class="token plain">dfx canister call bd3sg-teaaa-aaaaa-qaaba-cai icrc1_transfer </span><span class="token string" style="color:rgb(255, 121, 198)">&#x27;(</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token string" style="color:rgb(255, 121, 198)">  record {</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token string" style="color:rgb(255, 121, 198)">    to = record {</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token string" style="color:rgb(255, 121, 198)">      owner = principal &quot;b77ix-eeaaa-aaaaa-qaada-cai&quot;;</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token string" style="color:rgb(255, 121, 198)">      subaccount = null;</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token string" style="color:rgb(255, 121, 198)">    };</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token string" style="color:rgb(255, 121, 198)">    amount = 1_000_000_000;</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token string" style="color:rgb(255, 121, 198)">    fee = null;</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token string" style="color:rgb(255, 121, 198)">    memo = null;</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token string" style="color:rgb(255, 121, 198)">    from_subaccount = null;</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token string" style="color:rgb(255, 121, 198)">    created_at_time = null;</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token string" style="color:rgb(255, 121, 198)">  }</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token string" style="color:rgb(255, 121, 198)">)&#x27;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"></span><span class="token operator">&gt;</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token plain">variant </span><span class="token punctuation" style="color:rgb(248, 248, 242)">{</span><span class="token plain"> Ok </span><span class="token operator">=</span><span class="token plain"> </span><span class="token number">1</span><span class="token plain"> </span><span class="token builtin class-name" style="color:rgb(189, 147, 249)">:</span><span class="token plain"> nat </span><span class="token punctuation" style="color:rgb(248, 248, 242)">}</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><br></span></code></pre><div class="buttonGroup_Mh22"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_sRhz" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_adwT"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_7h2Z"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p>And verify the contract balance:</p>
<div class="language-bash codeBlockContainer_dWMi theme-code-block" style="--prism-color:#F8F8F2;--prism-background-color:#282A36"><div class="codeBlockTitle_Chiz">ICP Setup Terminal Terminal</div><div class="codeBlockContent_ix1M"><pre tabindex="0" class="prism-code language-bash codeBlock_AJJ2 thin-scrollbar" style="color:#F8F8F2;background-color:#282A36"><code class="codeBlockLines_X8Ab"><span class="token-line" style="color:#F8F8F2"><span class="token plain">dfx canister call bd3sg-teaaa-aaaaa-qaaba-cai icrc1_balance_of </span><span class="token string" style="color:rgb(255, 121, 198)">&#x27;(</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token string" style="color:rgb(255, 121, 198)">  record {</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token string" style="color:rgb(255, 121, 198)">    owner = principal &quot;b77ix-eeaaa-aaaaa-qaada-cai&quot;;</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token string" style="color:rgb(255, 121, 198)">    subaccount = null;</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token string" style="color:rgb(255, 121, 198)">  }</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token string" style="color:rgb(255, 121, 198)">)&#x27;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"></span><span class="token operator">&gt;</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token plain">1_000_000_000 </span><span class="token builtin class-name" style="color:rgb(189, 147, 249)">:</span><span class="token plain"> nat</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><br></span></code></pre><div class="buttonGroup_Mh22"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_sRhz" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_adwT"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_7h2Z"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<h2 class="anchor anchorWithStickyNavbar_PI6p" id="blockchain-demo-application">Blockchain Demo Application<a href="#blockchain-demo-application" class="hash-link" aria-label="Direct link to Blockchain Demo Application" title="Direct link to Blockchain Demo Application">​</a></h2>
<p>This application is used to demonstrate how to interact with Calimero Proxy
contract through creating, approving and executing proposals.</p>
<p>The proxy contract supports the following types of proposals:</p>
<ul>
<li><strong>External function call</strong> - Enables cross-contract call execution.</li>
<li><strong>Transfer</strong> - Allows transferring funds.</li>
<li><strong>Set approval threshold</strong> - Specifies the number of approvals required for
proposal execution.</li>
<li><strong>Set active proposal limit</strong> - Defines the maximum number of active
proposals.</li>
<li><strong>Set context variables</strong> - Allows setting key-value pairs for context
variables.</li>
</ul>
<p>While the demo focuses on specific functionality, you can customize the
application to suit your needs. Instead of building a complete frontend, this
demo serves as a foundation that you can extend to create a fully-featured
frontend application tailored to your requirements.</p>
<p>Navigate to frontend directory and install dependencies.</p>
<div class="language-bash codeBlockContainer_dWMi theme-code-block" style="--prism-color:#F8F8F2;--prism-background-color:#282A36"><div class="codeBlockTitle_Chiz">Terminal</div><div class="codeBlockContent_ix1M"><pre tabindex="0" class="prism-code language-bash codeBlock_AJJ2 thin-scrollbar" style="color:#F8F8F2;background-color:#282A36"><code class="codeBlockLines_X8Ab"><span class="token-line" style="color:#F8F8F2"><span class="token builtin class-name" style="color:rgb(189, 147, 249)">cd</span><span class="token plain"> demo-blockchain-integrations/app </span><span class="token operator">&amp;&amp;</span><span class="token plain"> </span><span class="token function" style="color:rgb(80, 250, 123)">pnpm</span><span class="token plain"> </span><span class="token function" style="color:rgb(80, 250, 123)">install</span><br></span></code></pre><div class="buttonGroup_Mh22"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_sRhz" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_adwT"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_7h2Z"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p>Since we have 3 nodes we will need to setup frontend for each of them. Open 3
terminals side by side and run the following commands in each of them from /app
directory:</p>
<div class="language-bash codeBlockContainer_dWMi theme-code-block" style="--prism-color:#F8F8F2;--prism-background-color:#282A36"><div class="codeBlockTitle_Chiz">Terminal 1 | Terminal 2 | Terminal 3</div><div class="codeBlockContent_ix1M"><pre tabindex="0" class="prism-code language-bash codeBlock_AJJ2 thin-scrollbar" style="color:#F8F8F2;background-color:#282A36"><code class="codeBlockLines_X8Ab"><span class="token-line" style="color:#F8F8F2"><span class="token function" style="color:rgb(80, 250, 123)">pnpm</span><span class="token plain"> run dev</span><br></span></code></pre><div class="buttonGroup_Mh22"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_sRhz" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_adwT"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_7h2Z"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p>After running the frontend you should see the following output in each of the
terminals:</p>
<img src="/icp-tutorial/Demo_blockchain_app_start.png" alt="frontend-running">
<p>Open the applications in by clicking on the link in each of the terminals and
you will see form with input fields for node URL and application ID.</p>
<p>To get application ID you can use following command from any of node terminals:</p>
<div class="language-bash codeBlockContainer_dWMi theme-code-block" style="--prism-color:#F8F8F2;--prism-background-color:#282A36"><div class="codeBlockTitle_Chiz">Node1 Terminal</div><div class="codeBlockContent_ix1M"><pre tabindex="0" class="prism-code language-bash codeBlock_AJJ2 thin-scrollbar" style="color:#F8F8F2;background-color:#282A36"><code class="codeBlockLines_X8Ab"><span class="token-line" style="color:#F8F8F2"><span class="token plain">application </span><span class="token function" style="color:rgb(80, 250, 123)">ls</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"></span><span class="token operator">&gt;</span><span class="token plain"> </span><span class="token operator">&lt;</span><span class="token plain">APPLICATION_ID</span><span class="token operator">&gt;</span><br></span></code></pre><div class="buttonGroup_Mh22"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_sRhz" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_adwT"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_7h2Z"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p>The node URL of the nodes are respectively:</p>
<ul>
<li><a href="http://localhost:2427" target="_blank" rel="noopener noreferrer">http://localhost:2427</a></li>
<li><a href="http://localhost:2428" target="_blank" rel="noopener noreferrer">http://localhost:2428</a></li>
<li><a href="http://localhost:2429" target="_blank" rel="noopener noreferrer">http://localhost:2429</a></li>
</ul>
<p>After submitting the form you will be redirected to admin dashboard where you
will see the login page with wallet selector.</p>
<lb></lb>
<p>Select a wallet you wish to login with and afterwards you will be prompted to
select the context and context identity you wish to use.</p>
<lb></lb>
<p>After selecting both you will be logged in and automatically redirected to the
application.</p>
<h3 class="anchor anchorWithStickyNavbar_PI6p" id="change-approval-threshold-proposal">Change Approval Threshold Proposal<a href="#change-approval-threshold-proposal" class="hash-link" aria-label="Direct link to Change Approval Threshold Proposal" title="Direct link to Change Approval Threshold Proposal">​</a></h3>
<p>First we are going to create an approval threshold change proposal so future
proposals can be executed by only 1 node. As mentioned earlier each proposal by
default needs 3 approvals to be executed.</p>
<ol>
<li>Click on &quot;Create Proposal&quot; button and select &quot;Change number of approvals
needed&quot; from dropdown.</li>
<li>In the input field set the number of approvals to 1 (this means that proposal
will be executed on creation).</li>
<li>Click on &quot;Create Proposal&quot; button to create the proposal.</li>
</ol>
<p>After proposal is created you will get the alert that proposal is created and it
will be shown in other frontend applications by selecting it in select field.</p>
<p>After selecting proposal on other frontend applications (node2 and node3) you
can see that it is created and can be approved by clicking on &quot;Approve Proposal&quot;
button.</p>
<h3 class="anchor anchorWithStickyNavbar_PI6p" id="cross-contract-call-proposal">Cross-Contract Call Proposal<a href="#cross-contract-call-proposal" class="hash-link" aria-label="Direct link to Cross-Contract Call Proposal" title="Direct link to Cross-Contract Call Proposal">​</a></h3>
<p>At this point proposal approval threshold is 1, meaning proposal will be
executed on creation. This means when we create cross-contract call proposal it
will insantly be executed.</p>
<p>We have created a demo external contract that contains following methods:</p>
<ul>
<li><strong>test_method_no_transfer</strong> - This method does not require a deposit for
execution, it sets sent arguments in its storage.</li>
<li><strong>test_method</strong> - This method requires a deposit for execution, it first
transfers the funds to the contract from proxy contract and then sets sent
arguments in its storage, if the transfer is completed successfully.</li>
<li><strong>get_calls</strong> - This method returns all calls stored in the contract.</li>
<li><strong>clear_state</strong> - This method clears the storage of the contract.</li>
</ul>
<p>You can see the contract itself and its implementation
<a href="https://github.com/calimero-network/core/tree/master/contracts/icp/context-proxy/mock/external" target="_blank" rel="noopener noreferrer">here</a>.</p>
<p>When creating cross-contract call proposal we need to provide following values:</p>
<ul>
<li><strong>Contract ID</strong>: br5f7-7uaaa-aaaaa-qaaca-cai - Address of the external
contract - shown in terminal output of dfx deployment script for demo external
contract</li>
<li><strong>Method Name</strong>: test_method_no_transfer - Name of the method that will be
called</li>
<li><strong>Deposit</strong>: 0 - Deposit for transfer, in this case we are not transferring
any funds so we can set it to 0</li>
<li><strong>Arguments</strong>: someKey: someValue - Key and value pairs for arguments that are
sent to the external contract</li>
</ul>
<p>After we create proposal it will be executed, and the success of the execution
can be checked by running following command in terminal:</p>
<div class="language-bash codeBlockContainer_dWMi theme-code-block" style="--prism-color:#F8F8F2;--prism-background-color:#282A36"><div class="codeBlockTitle_Chiz">DFX terminal</div><div class="codeBlockContent_ix1M"><pre tabindex="0" class="prism-code language-bash codeBlock_AJJ2 thin-scrollbar" style="color:#F8F8F2;background-color:#282A36"><code class="codeBlockLines_X8Ab"><span class="token-line" style="color:#F8F8F2"><span class="token plain">dfx canister call </span><span class="token operator">&lt;</span><span class="token plain">DEMO_EXTERNAL_CONTRACT_ID</span><span class="token operator">&gt;</span><span class="token plain"> get_calls</span><br></span></code></pre><div class="buttonGroup_Mh22"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_sRhz" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_adwT"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_7h2Z"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<div class="theme-admonition theme-admonition-caution admonition_heLT alert alert--warning"><div class="admonitionHeading_DpXe"><span class="admonitionIcon_SmZU"><svg viewBox="0 0 16 16"><path fill-rule="evenodd" d="M8.893 1.5c-.183-.31-.52-.5-.887-.5s-.703.19-.886.5L.138 13.499a.98.98 0 0 0 0 1.001c.193.31.53.501.886.501h13.964c.367 0 .704-.19.877-.5a1.03 1.03 0 0 0 .01-1.002L8.893 1.5zm.133 11.497H6.987v-2.003h2.039v2.003zm0-3.004H6.987V5.987h2.039v4.006z"></path></svg></span>caution</div><div class="admonitionContent_V_Ml"><p>It&#x27;s important to note that in this tutorial, we use a function call that does
not require a deposit for execution.</p><p>On the other hand, there are examples where cross-contract calls require a
deposit. For instance, in the case of an ERC20 token implementation, the
following steps typically occur:</p><ol>
<li>The contract detects that an attached deposit is present.</li>
<li>It calls the deployed ledger contract to enable the external contract (the
contract being called) to withdraw funds. Before doing so, it sets the
allowance to 0 to prevent vulnerabilities related to the Attack Vector.</li>
<li>It then calls the ledger contract again to set the allowance equal to the
deposit attached to the call.</li>
<li>The external contract is called, and it must contain logic to withdraw the
funds that have been allocated for it in the ledger contract.</li>
<li>After the cross-contract call is completed, the proxy contract sets the
allowance back to 0 to ensure security.</li>
</ol></div></div>
<h2 class="anchor anchorWithStickyNavbar_PI6p" id="conclusion">Conclusion<a href="#conclusion" class="hash-link" aria-label="Direct link to Conclusion" title="Direct link to Conclusion">​</a></h2>
<p>This tutorial has covered all the essential steps developers need to build an
application for Calimero and ICP, from setting up the environment to deploying a
fully functional smart contract. By following this guide, you should now have a
solid understanding of the development workflow and how to build your own ICP
application for Calimero.</p>
<p>Feel free to use our demo applications as a starting point to build and
customize your own application. If you have any questions or need assistance,
don&#x27;t hesitate to reach out to us on Socials. We&#x27;re here to help!</p></div><footer class="theme-doc-footer docusaurus-mt-lg"><div class="row margin-top--sm theme-doc-footer-edit-meta-row"><div class="col"><a href="https://github.com/calimero-network/calimero-network.github.io/edit/master/versioned_docs/version-0.5.0/06-tutorials/07-awesome-projects/03-building-with-icp.mdx" target="_blank" rel="noopener noreferrer" class="theme-edit-this-page"><svg fill="currentColor" height="20" width="20" viewBox="0 0 40 40" class="iconEdit_khNX" aria-hidden="true"><g><path d="m34.5 11.7l-3 3.1-6.3-6.3 3.1-3q0.5-0.5 1.2-0.5t1.1 0.5l3.9 3.9q0.5 0.4 0.5 1.1t-0.5 1.2z m-29.5 17.1l18.4-18.5 6.3 6.3-18.4 18.4h-6.3v-6.2z"></path></g></svg>Edit this page</a></div><div class="col lastUpdated_WLHv"><span class="theme-last-updated">Last updated<!-- --> on <b><time datetime="2025-05-05T11:36:45.000Z" itemprop="dateModified">May 5, 2025</time></b></span></div></div></footer><div style="margin-top:16px" class="theme-admonition theme-admonition-tip admonition_node_modules-@docusaurus-theme-classic-lib-theme-Admonition-Layout-styles-module alert alert--info"><div class="feelback-container"><div class="feelback-q"><span class="feelback-text">Was this page helpful?</span><div class="feelback-buttons"><button class="feelback-btn"><span class="feelback-icon"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 500 500" fill="currentColor" width="1em" height="1em"><g><path d="M172.7,309.1c0-7.4-3-14.6-8.3-19.9s-12.4-8.3-19.9-8.3H74.4c-10.1,0-19.3,5.4-24.4,14.1c-5.1,8.7-5,19.5,0,28.1 s14.3,14.1,24.4,14.1h70.2c7.4,0,14.6-3,19.9-8.3S172.7,316.5,172.7,309.1L172.7,309.1z"></path><path d="M102.5,449.5h70.2c10.1,0,19.3-5.4,24.4-14.1c5-8.6,5-19.5,0-28.1s-14.3-14.1-24.4-14.1h-70.2c-10.1,0-19.3,5.4-24.4,14.1 c-5,8.6-5,19.5,0,28.1C83.2,444.1,92.5,449.5,102.5,449.5z"></path><path d="M53.2,224.9h83.3c18.8,0,36.4-9.4,46.8-24.9l95.7-143.6h5c11.6,0,22.5,5.7,29.2,15.1s8.6,21.6,5,32.5l-25.4,76.5 c-1.3,3.7-0.6,7.9,1.8,11.2c2.3,3.2,6.2,5.2,10.1,5.2h65.6c14.7-0.3,28.8,6.3,37.9,17.7c5.3,6.6,8.6,14.3,9.8,22.6 c1.3,8.3,0.3,16.7-2.7,24.5l-47.6,118.7c-1.5,3.9-4.3,7.2-7.6,9.5c-3.5,2.3-7.5,3.6-11.6,3.6h-61.8l0,0c-7.1-0.3-14.2,2.2-19.7,7 c-5.4,4.6-8.9,11.2-9.9,18.4c-0.8,7.9,1.9,15.8,7.1,21.7c5.4,5.9,12.9,9.2,20.9,9.2h63.3c15.5,0,30.5-4.6,43.2-13.3 c12.8-8.6,22.7-20.9,28.5-35.2l47.6-118.8c12.8-32.1,8.8-68.5-11-97c-19.7-28.5-52.1-45.3-86.8-44.6h-4.6l5.7-17 c5.2-14.8,6.7-30.6,4.3-46.2c-3.6-21.6-14.8-41.3-31.5-55.5s-37.9-22.1-60-22h-20c-9.4,0-18.2,4.6-23.3,12.5l-104,156H54.5 c-7.1-0.1-14.1,2.3-19.6,7c-5.5,4.7-8.9,11.2-9.8,18.3c-0.8,7.9,1.9,15.8,7.1,21.7C37.8,221.4,45.2,224.9,53.2,224.9L53.2,224.9z"></path></g></svg></span><span class="label">Yes</span></button><button class="feelback-btn"><span class="feelback-icon"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 500 500" fill="currentColor" width="1em" height="1em"><g><path d="M327.3,190.8c0,7.3,2.9,14.6,8.3,19.8c5.3,5.3,12.4,8.3,19.8,8.3h70.2c10.1,0,19.4-5.4,24.4-14c5-8.6,5-19.5,0-28.1 c-5-8.6-14.3-14-24.4-14h-70.2c-7.3,0-14.6,2.9-19.8,8.3C330.3,176.3,327.3,183.4,327.3,190.8L327.3,190.8z"></path><path d="M397.5,50.4h-70.2c-10.1,0-19.4,5.4-24.4,14c-5,8.6-5,19.5,0,28.1c5,8.6,14.3,14,24.4,14h70.2c10.1,0,19.4-5.4,24.4-14 s5-19.5,0-28.1S407.6,50.4,397.5,50.4z"></path><path d="M446.8,275.1h-83.3c-18.8,0-36.3,9.5-46.8,25l-95.7,143.6h-5c-11.6,0-22.5-5.7-29.3-15.1c-6.8-9.4-8.6-21.6-5-32.5 l25.4-76.5c1.3-3.8,0.6-7.9-1.8-11.2c-2.3-3.2-6.2-5.1-10.1-5.1h-65.5c-14.7,0.3-28.7-6.3-38.1-17.7c-5.3-6.6-8.6-14.3-9.8-22.6 c-1.3-8.3-0.3-16.6,2.7-24.5l47.6-118.8c1.6-3.9,4.2-7.2,7.6-9.5c3.5-2.3,7.5-3.6,11.6-3.6h61.8l0,0c7.1,0.3,14.2-2.3,19.7-7 c5.4-4.7,8.9-11.3,9.9-18.4c0.7-7.9-1.9-15.8-7.1-21.7c-5.4-6-12.9-9.2-20.9-9.2h-63.3c-15.5,0-30.5,4.7-43.2,13.3 C95.7,72.4,85.8,84.7,80,99L32.4,217.8c-12.8,32.1-8.8,68.5,10.9,97.1c19.7,28.6,52.1,45.2,86.8,44.7h4.7l-5.7,17.1 c-5.1,14.9-6.7,30.6-4.2,46.2c3.6,21.6,14.9,41.3,31.5,55.4s37.9,21.8,59.8,21.7h20c9.5,0,18.2-4.7,23.3-12.5l104.1-156h82.1 c7.1,0.1,14-2.3,19.6-7c5.5-4.7,8.9-11.2,9.8-18.4c0.7-7.9-1.9-15.8-7.1-21.7C462.4,278.5,454.8,275.1,446.8,275.1L446.8,275.1z"></path></g></svg></span><span class="label">No</span></button></div></div></div></div><div style="padding-top:16px"><div class="alert alert--success"><summary>Need some help? <a>Check </a><a href="/resources/community-and-support">Support</a> page</summary></div></div></article><nav class="pagination-nav docusaurus-mt-lg" aria-label="Docs pages"><a class="pagination-nav__link pagination-nav__link--prev" href="/0.5.0/tutorials/awesome-projects/demo-blockchain-integration"><div class="pagination-nav__sublabel">Previous</div><div class="pagination-nav__label">Private DAO</div></a><a class="pagination-nav__link pagination-nav__link--next" href="/0.5.0/tutorials/awesome-projects/building-with-stellar"><div class="pagination-nav__sublabel">Next</div><div class="pagination-nav__label">Building with Stellar</div></a></nav></div></div><div class="col col--3"><div class="tableOfContents_A_tn thin-scrollbar theme-doc-toc-desktop"><ul class="table-of-contents table-of-contents__left-border"><li><a href="#requirements" class="table-of-contents__link toc-highlight">Requirements</a></li><li><a href="#configuring-a-local-devnet" class="table-of-contents__link toc-highlight">Configuring a Local Devnet</a></li><li><a href="#context-and-proxy-contract" class="table-of-contents__link toc-highlight">Context and Proxy Contract</a><ul><li><a href="#context-contract" class="table-of-contents__link toc-highlight">Context contract</a></li><li><a href="#proxy-contract" class="table-of-contents__link toc-highlight">Proxy contract</a></li></ul></li><li><a href="#blockchain-demo-application" class="table-of-contents__link toc-highlight">Blockchain Demo Application</a><ul><li><a href="#change-approval-threshold-proposal" class="table-of-contents__link toc-highlight">Change Approval Threshold Proposal</a></li><li><a href="#cross-contract-call-proposal" class="table-of-contents__link toc-highlight">Cross-Contract Call Proposal</a></li></ul></li><li><a href="#conclusion" class="table-of-contents__link toc-highlight">Conclusion</a></li></ul></div></div></div></div></main></div></div></div><footer class="footer footer--dark"><div class="container container-fluid"><div class="footer__bottom text--center"><div class="footer__copyright">Copyright © 2024 Calimero Limited LLC.</div></div></div></footer></div>
</body>
</html>