---
id: ethereum-wallet
title: Ethereum Wallet
---

## Logging in with Ethereum Wallet

Calimero allows users to authenticate via their Ethereum wallet (such as
Metamask), ensuring secure access to the Admin Dashboard. The authentication
process leverages Ethereum's ECDSA signature verification through smart
contracts deployed on the Ethereum network.

## Authentication Flow

The Ethereum authentication in Calimero follows the same challenge-response
pattern as other supported wallets. Here's how it works:

### 1. User Initiates Login

- The user navigates to the Admin Dashboard and selects the option to "Login
  with Ethereum Wallet."
- They are presented with wallet options, typically Metamask or other Web3
  wallet extensions.

### 2. Wallet Connection

- The user connects their Ethereum wallet (e.g., Metamask) to the Calimero
  application.
- The wallet extension prompts the user to approve the connection and select the
  desired account.
- The user's Ethereum address is retrieved from the connected wallet.

### 3. Server Issues Structured Challenge

- Upon selecting the wallet, the server generates a structured challenge. This
  challenge follows a specific format and includes:
  ```solidity
  struct Request {
      bytes32 signerId;     // ECDSA public key (Ethereum address)
      bytes32 userId;       // Ed25519 public key
      uint64 nonce;         // Unique request identifier
      RequestKind kind;     // Type of operation
      bytes data;           // Operation-specific data
  }
  ```
- The challenge is still server-generated, but it's structured rather than a
  simple random string.

### 4. User Signs Structured Challenge

- The user is prompted to sign the server-issued structured challenge using
  their Ethereum wallet.
- The wallet extension displays the challenge data and requests user
  confirmation.
- The user approves the signature request in their wallet.

### 5. Signature Sent to Backend

- After the user signs the challenge, the signature is sent back to the server
  for verification.

### 6. Signature Verification

- The backend verifies the Ethereum signature to ensure its authenticity using
  standard ECDSA signature verification.
- The signature is verified against the structured challenge that was signed.
- If the signature is valid, the user's Ethereum address is extracted and stored
  as the user's unique identifier.

### 7. Successful Authentication

- Once verified, the user is successfully authenticated.
- Their Ethereum address serves as their identifier for blockchain operations
  and context management.

## Authentication Implementation

Calimero's Ethereum authentication uses structured challenges with ECDSA
signature verification:

- **Structured Challenge Generation**: The server generates a unique structured
  challenge for each login attempt using the Request format
- **Signature Verification**: The backend verifies the ECDSA signature against
  the structured challenge
- **Identity Storage**: The user's Ethereum address serves as their unique
  identifier

## Supported Ethereum Wallets

Calimero supports MetaMask for Ethereum authentication:

- **Metamask**: The most popular Web3 wallet extension

## Network Support

Ethereum wallet authentication works across multiple Ethereum networks:

- **Ethereum Mainnet**: Production network
- **Ethereum Testnets**: Sepolia, Goerli, and other test networks
- **Ethereum Layer 2s**: Polygon, Arbitrum, Optimism, and other L2 solutions
- **Ethereum-compatible chains**: BSC, Avalanche C-Chain, and other
  EVM-compatible networks

## Security Features

- **Structured Challenge-Response Authentication**: Each login attempt uses a
  unique server-generated structured challenge with specific fields for enhanced
  security
- **ECDSA Signature Verification**: Uses Ethereum's standard cryptographic
  methods for signature validation
- **Address-based Identity**: User identity is tied to their Ethereum address,
  ensuring decentralized authentication
- **Standard Wallet Security**: Leverages the security features of established
  Ethereum wallets like Metamask

This authentication flow leverages Ethereum's robust ECDSA signature
verification to provide secure, decentralized access to Calimero's features
while maintaining consistency with the blockchain's native security model.
